if(!Object['hasOwnProperty']('values')){Object['values']=function(c){return Object['keys'](c)['map'](function(d){return c[d];});};}if(!String['prototype']['startsWith']){String['prototype']['startsWith']=function(e,f){f=f||0x0;return this['indexOf'](e,f)===f;};}TDV['EventDispatcher']=function(){this['_handlers']={};};TDV['EventDispatcher']['prototype']['bind']=function(g,h){if(!(g in this['_handlers']))this['_handlers'][g]=[];this['_handlers'][g]['push'](h);};TDV['EventDispatcher']['prototype']['unbind']=function(i,j){if(i in this['_handlers']){var k=this['_handlers'][i]['indexOf'](j);if(k!=-0x1)this['_handlers'][i]['splice'](k,0x1);}};TDV['EventDispatcher']['prototype']['createNewEvent']=function(l){if(typeof Event==='function')return new Event(l);var m=document['createEvent']('Event');m['initEvent'](l,!![],!![]);return m;};TDV['EventDispatcher']['prototype']['dispatchEvent']=function(n){if(n['type']in this['_handlers']){var o=this['_handlers'][n['type']];for(var p=0x0;p<o['length'];++p){o[p]['call'](window,n);if(n['defaultPrevented'])break;}}};TDV['Tour']=function(q,r){TDV['EventDispatcher']['call'](this);this['player']=undefined;this['_settings']=q;this['_devicesUrl']=r;this['_playersPlayingTmp']=[];this['_isInitialized']=![];this['_isPaused']=![];this['_isRemoteSession']=![];this['_orientation']=undefined;this['_lockedOrientation']=undefined;this['_device']=undefined;Object['defineProperty'](this,'isInitialized',{'get':function(){return this['_isInitialized'];}});Object['defineProperty'](this,'isPaused',{'get':function(){return this['_isPaused'];}});this['_setupRemote']();};TDV['Tour']['DEVICE_GENERAL']='general';TDV['Tour']['DEVICE_MOBILE']='mobile';TDV['Tour']['DEVICE_IPAD']='ipad';TDV['Tour']['DEVICE_VR']='vr';TDV['Tour']['EVENT_TOUR_INITIALIZED']='tourInitialized';TDV['Tour']['EVENT_TOUR_LOADED']='tourLoaded';TDV['Tour']['EVENT_TOUR_ENDED']='tourEnded';TDV['Tour']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['prototype']['dispose']=function(){if(!this['player'])return;if(this['_onHashChange']){window['removeEventListener']('hashchange',this['_onHashChange']);this['_onHashChange']=undefined;}if(this['_onKeyUp']){document['removeEventListener']('keyup',this['_onKeyUp']);this['_onKeyUp']=undefined;}if(this['_onBeforeUnload']){window['removeEventListener']('beforeunload',this['_onBeforeUnload']);this['_onBeforeUnload']=undefined;}var s=this['_getRootPlayer']();if(s!==undefined){s['stopTextToSpeech']();s['stopGlobalAudios']();}this['player']['delete']();this['player']=undefined;this['_isInitialized']=![];window['currentGlobalAudios']=undefined;window['pauseGlobalAudiosState']=undefined;window['currentPanoramasWithCameraChanged']=undefined;window['overlaysDispatched']=undefined;};TDV['Tour']['prototype']['load']=function(){if(this['player'])return;var t=function(w){if(w['name']=='begin'){var A=w['data']['source']['get']('camera');if(A&&A['get']('initialSequence')&&A['get']('initialSequence')['get']('movements')['length']>0x0)return;}if(w['sourceClassName']=='MediaAudio'||w['sourceClassName']=='Model3DCameraSequence'||this['_isInitialized'])return;this['_isInitialized']=!![];u['unbind']('preloadMediaShow',t,this,!![]);u['unbindOnObjectsOf']('PlayListItem','begin',t,this,!![]);u['unbind']('stateChange',t,this,!![]);if(this['_isPaused'])this['pause']();window['parent']['postMessage'](TDV['Tour']['EVENT_TOUR_LOADED'],'*');this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_LOADED']));};this['_setup']();this['_settings']['set'](TDV['PlayerSettings']['SCRIPT_URL'],this['_currentScriptUrl']);var u=this['player']=TDV['PlayerAPI']['create'](this['_settings']);u['bindOnObject']('rootPlayer','start',v,this,!![]);window['addEventListener']('message',function(B){var C=B['data'];if(C=='pauseTour')C='pause';else if(C=='resumeTour')C='resume';else return;this[C]['apply'](this);}['bind'](this));function v(D){u['unbindOnObject']('rootPlayer','start',v,this,!![]);var E=D['data']['source'];E['get']('data')['tour']=this;var F=window['navigator']['language']||window['navigator']['userLanguage']||'en';var G=E['get']('data')['locales']||{};var H=E['get']('data')['defaultLocale']||F;var I=this['locManager']=new TDV['Tour']['LocaleManager'](E,G,H,this['_settings']['get'](TDV['PlayerSettings']['QUERY_STRING_PARAMETERS']));E['get']('data')['localeManager']=I;var J=function(){var U=E['get']('data');if(!('updateText'in U)){U['updateText']=function(Y){var Z=Y[0x0]['split']('.');if(Z['length']==0x2){var a0=I['trans']['apply'](I,Y);var a1=Y[0x1]||E;if(typeof a1=='string'){var a2=a1['split']('.');a1=E[a2['shift']()];for(var a3=0x0;a3<a2['length']-0x1;++a3){if(a1!=undefined)a1='get'in a1?a1['get'](a2[a3]):a1[a2[a3]];}if(a1!=undefined){var a4=a2[a2['length']-0x1];if(Array['isArray'](a1)){for(var a5=0x0;a5<a1['length'];++a5){this['setValue'](a1[a5],a4,a0);}}else this['setValue'](a1,a4,a0);}}else{a1=a1[Z[0x0]];this['setValue'](a1,Z[0x1],a0);}}}['bind'](E);}var V=U['translateObjs'];var W=U['updateText'];var X=function(){for(var a6 in V){W(V[a6]);}};X();X();};this['locManager']['bind'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED'],J['bind'](this));var K=this['_getParams'](location['search']['substr'](0x1));K=E['mixObject'](K,this['_getParams'](location['hash']['substr'](0x1)));var L=K['language'];if(!L||!this['locManager']['hasLocale'](K['language'])){if(E['get']('data')['forceDefaultLocale'])L=H;else L=F;}this['setLocale'](L);var M=E['getByClassName']('HotspotPanoramaOverlay');for(var O=0x0,P=M['length'];O<P;++O){var Q=M[O];var R=Q['get']('data');if(!R)Q['set']('data',R={});R['defaultEnabledValue']=Q['get']('enabled');}this['_setMediaFromURL'](K,0x0);this['_updateParams'](K,![]);if(this['isMobile']()&&typeof this['_devicesUrl'][this['_device']]=='object'){var S=function(){if(!E['isCardboardViewMode']()&&this['_getOrientation']()!=this['_orientation']){this['reload'](!![]);return!![];}return![];};if(S['call'](this))return;var T=E['getByClassName']('PanoramaPlayer');for(var O=0x0;O<T['length'];++O){T[O]['bind']('viewModeChange',S,this);}E['bind']('orientationChange',S,this);}this['_onHashChange']=function(){var a7=this['_getParams'](location['hash']['substr'](0x1));this['_setMediaFromURL'](a7);this['_updateParams'](a7,!![]);}['bind'](this);this['_onKeyUp']=function(a8){switch(a8['key']['toLowerCase']()){case'u':this['updateDeepLink']();E['copyToClipboard'](location['href']);break;case'm':var a9=E['getByClassName']('MeasureModel3DObject');var aa=E['getActiveMediaWithViewer'](E['getMainViewer']());if(a9['length']>0x0&&aa['get']('class')=='Model3D'){E['startMeasurement'](null,a9[0x0]);}break;}}['bind'](this);this['_onBeforeUnload']=function(ab){E['stopTextToSpeech']();};window['addEventListener']('hashchange',this['_onHashChange']);window['addEventListener']('beforeunload',this['_onBeforeUnload']);document['addEventListener']('keyup',this['_onKeyUp']);E['bind']('tourEnded',function(){this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_ENDED']));},this,!![]);E['bind']('mute_changed',function(){if(this['get']('mute'))this['stopTextToSpeech']();},E,!![]);u['bind']('preloadMediaShow',t,this,!![]);u['bind']('stateChange',t,this,!![]);u['bindOnObjectsOf']('PlayListItem','begin',t,this,!![]);this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_INITIALIZED']));}};TDV['Tour']['prototype']['pause']=function(){this['_isPaused']=!![];if(!this['_isInitialized'])return;var ac=function(al){var am=al['source'];if(!this['_isPaused'])am['unbind']('stateChange',ac,this);else if(am['get']('state')=='playing'){am['pause']();}};var ad=this['player']['getByClassName']('PlayList');for(var ae=0x0,af=ad['length'];ae<af;ae++){var ag=ad[ae];var ah=ag['get']('selectedIndex');if(ah!=-0x1){var ai=ag['get']('items')[ah];var aj=ai['get']('player');if(aj&&aj['pause']){if(aj['get']('state')!='playing')aj['bind']('stateChange',ac,this);else aj['pause']();this['_playersPlayingTmp']['push'](aj);}}}var ak=this['_getRootPlayer']();ak['pauseGlobalAudios']();ak['quizPauseTimer']();};TDV['Tour']['prototype']['resume']=function(){this['_isPaused']=![];if(!this['_isInitialized'])return;while(this['_playersPlayingTmp']['length']){var an=this['_playersPlayingTmp']['pop']();an['play']();}var ao=this['_getRootPlayer']();ao['resumeGlobalAudios']();ao['quizResumeTimer']();};TDV['Tour']['prototype']['reload']=function(ap){this['_orientation']=this['_getOrientation']();if(ap)this['updateDeepLink']();this['dispose']();this['load']();};TDV['Tour']['prototype']['setMediaByIndex']=function(aq){var ar=this['_getRootPlayer']();if(ar!==undefined){return ar['setMainMediaByIndex'](aq);}};TDV['Tour']['prototype']['setMediaByName']=function(as){var at=this['_getRootPlayer']();if(at!==undefined){return at['setMainMediaByName'](as);}};TDV['Tour']['prototype']['triggerOverlayByName']=function(au,av,aw){var ax=this['_getRootPlayer']();if(!aw)aw='click';if(ax!==undefined&&aw){var ay=ax['getPanoramaOverlayByName'](au,av);if(ay){ax['triggerOverlay'](ay,aw);}}};TDV['Tour']['prototype']['focusOverlayByName']=function(az,aA){var aB=this['_getRootPlayer']();if(aB!==undefined){var aC=aB['getPanoramaOverlayByName'](az['get']('media'),aA);if(aC){var aD=aC['get']('class');var aE=aD=='VideoPanoramaOverlay'||aD=='QuadVideoPanoramaOverlay'?aC:aC['get']('items')[0x0];var aF,aG;aD=aE['get']('class');if(aD=='QuadVideoPanoramaOverlay'||aD=='QuadHotspotPanoramaOverlayImage'){var aH=aE['get']('vertices');var aI=0x0,aJ=aH['length'];aF=0x0;aG=0x0;while(aI<aJ){var aK=aH[aI++];var aL=aK['get']('yaw');if(aL<0x0)aL+=0x168;aF+=aL;aG+=aK['get']('pitch');}aF/=0x4;aG/=0x4;if(aF>0xb4)aF-=0x168;}else{aF=aE['get']('yaw');aG=aE['get']('pitch');}var aM=aB['getPlayListWithItem'](az);if(aM){var aN=function(){aB['setPanoramaCameraWithSpot'](aM,az,aF,aG);};if(!this['_isInitialized']){var aO=function(){az['unbind']('begin',aO,this);aN();};az['bind']('begin',aO,this);}else{aN();}}}}};TDV['Tour']['prototype']['setComponentsVisibilityByTags']=function(aP,aQ,aR){var aS=this['_getRootPlayer']();if(aS!==undefined){var aT=aS['getComponentsByTags'](aP,aR);for(var aU=0x0,aV=aT['length'];aU<aV;++aU){aT[aU]['set']('visible',aQ);}}};TDV['Tour']['prototype']['setOverlaysVisibilityByTags']=function(aW,aX,aY){var aZ=this['_getRootPlayer']();if(aZ!==undefined){var b0=aZ['getOverlaysByTags'](aW,aY);aZ['setOverlaysVisibility'](b0,aX);}};TDV['Tour']['prototype']['setOverlaysVisibilityByName']=function(b1,b2){var b3=this['_getRootPlayer']();if(b3!==undefined){var b4=b3['getActiveMediaWithViewer'](b3['getMainViewer']());var b5=[];for(var b6=0x0,b7=b1['length'];b6<b7;++b6){var b8=b3['getPanoramaOverlayByName'](b4,b1[b6]);if(b8)b5['push'](b8);}b3['setOverlaysVisibility'](b5,b2);}};TDV['Tour']['prototype']['setObjectsVisibilityByID']=function(b9,ba){var bb=this['_getRootPlayer']();if(bb!==undefined){var bc=bb['getActiveMediaWithViewer'](bb['getMainViewer']());if(bc['get']('class')=='Model3D'){bb['setObjectsVisibilityByID'](bc,b9,ba);}}};TDV['Tour']['prototype']['setModel3DVariant']=function(bd){var be=this['_getRootPlayer']();if(be!==undefined){var bf=be['getActiveMediaWithViewer'](be['getMainViewer']());if(bf['get']('class')=='Model3D'){bf['set']('variant',bd);}}};TDV['Tour']['prototype']['updateDeepLink']=function(){var bg=this['_getRootPlayer']();if(bg!==undefined){bg['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}};TDV['Tour']['prototype']['setLocale']=function(bh){var bi=this['_getRootPlayer']();if(bi!==undefined&&this['locManager']!==undefined){this['locManager']['setLocale'](bh);}};TDV['Tour']['prototype']['getLocale']=function(){var bj=this['_getRootPlayer']();return bj!==undefined&&this['locManager']!==undefined?this['locManager']['currentLocaleID']:undefined;};TDV['Tour']['prototype']['isMobile']=function(){return TDV['PlayerAPI']['mobile'];};TDV['Tour']['prototype']['isIPhone']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPHONE'];};TDV['Tour']['prototype']['isIPad']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPAD'];};TDV['Tour']['prototype']['isIOS']=function(){return this['isIPad']()||this['isIPhone']();};TDV['Tour']['prototype']['isMobileApp']=function(){return navigator['userAgent']['indexOf']('App/TDV')!=-0x1;};TDV['Tour']['prototype']['getNotchValue']=function(){var bk=document['documentElement'];bk['style']['setProperty']('--notch-top','env(safe-area-inset-top)');bk['style']['setProperty']('--notch-right','env(safe-area-inset-right)');bk['style']['setProperty']('--notch-bottom','env(safe-area-inset-bottom)');bk['style']['setProperty']('--notch-left','env(safe-area-inset-left)');var bl=window['getComputedStyle'](bk);return parseInt(bl['getPropertyValue']('--notch-top')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-right')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-bottom')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-left')||'0',0xa);};TDV['Tour']['prototype']['hasNotch']=function(){return this['getNotchValue']()>0x0;};TDV['Tour']['prototype']['_getOrientation']=function(){var bm=this['_getRootPlayer']();if(bm){return bm['get']('orientation');}else if(this['_lockedOrientation']){return this['_lockedOrientation'];}else{return TDV['PlayerAPI']['getOrientation']();}};TDV['Tour']['prototype']['_getParams']=function(bn){var bo={};bn['split']('&')['forEach'](function(bp){var bq=bp['split']('=')[0x0],br=decodeURIComponent(bp['split']('=')[0x1]);bo[bq['toLowerCase']()]=br;});return bo;};TDV['Tour']['prototype']['_getRootPlayer']=function(){return this['player']!==undefined?this['player']['getById']('rootPlayer'):undefined;};TDV['Tour']['prototype']['_setup']=function(){if(!this['_orientation'])this['_orientation']=this['_getOrientation']();this['_device']=this['_getDevice']();this['_currentScriptUrl']=this['_getScriptUrl']();if(this['isMobile']()){var bs=document['getElementById']('metaViewport');if(bs){var bt=this['_devicesUrl'][this['_device']];var bu=0x1;if(typeof bt=='object'&&this['_orientation']in bt&&this['_orientation']==TDV['PlayerAPI']['ORIENTATION_LANDSCAPE']||this['_device']==TDV['Tour']['DEVICE_GENERAL']){bu=bs['getAttribute']('data-tdv-general-scale')||0.5;}var bv=bs['getAttribute']('content');bv=bv['replace'](/initial-scale=(\d+(\.\d+)?)/,function(bw,bx){return'initial-scale='+bu;});bs['setAttribute']('content',bv);}}};TDV['Tour']['prototype']['_getScriptUrl']=function(){var by=this['_devicesUrl'][this['_device']];if(typeof by=='object'){if(this['_orientation']in by){by=by[this['_orientation']];}}return by;};TDV['Tour']['prototype']['_getDevice']=function(){var bz=TDV['Tour']['DEVICE_GENERAL'];if(!this['_isRemoteSession']&&this['isMobile']()){if(this['isIPad']()&&TDV['Tour']['DEVICE_IPAD']in this['_devicesUrl'])bz=TDV['Tour']['DEVICE_IPAD'];else if(TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl'])bz=TDV['Tour']['DEVICE_MOBILE'];}return bz;};TDV['Tour']['prototype']['_setMediaFromURL']=function(bA,bB){var bC=this['_getRootPlayer']();var bD=bC['getActivePlayerWithViewer'](bC['getMainViewer']());var bE=bD?bC['getMediaFromPlayer'](bD):undefined;var bF;if('media'in bA){var bG=bA['media'];var bH=Number(bG);bF=isNaN(bH)?this['setMediaByName'](bG):this['setMediaByIndex'](bH-0x1);}else if('media-index'in bA){bF=this['setMediaByIndex'](parseInt(bA['media-index'])-0x1);}else if('media-name'in bA){bF=this['setMediaByName'](decodeURIComponent(bA['media-name']));}if(bF==undefined&&bB!==undefined){bF=this['setMediaByIndex'](0x0);}if(bF!=undefined){var bI=bF['get']('player');var bJ=function(){if('trigger-overlay-name'in bA){this['triggerOverlayByName'](bF['get']('media'),bA['trigger-overlay-name'],bA['trigger-overlay-event']);}if('focus-overlay-name'in bA){this['focusOverlayByName'](bF,bA['focus-overlay-name']);}else if('yaw'in bA||'pitch'in bA){var bN=bC['getPlayListWithItem'](bF);if(bN){switch(bF['get']('class')){case'PanoramaPlayListItem':var bO=parseFloat(bA['yaw'])||undefined;var bP=parseFloat(bA['pitch'])||undefined;var bQ=parseFloat(bA['fov'])||undefined;bC['setPanoramaCameraWithSpot'](bN,bF,bO,bP,bQ);break;case'Model3DPlayListItem':var bR=['yaw','pitch','x','y','z','distance'];var bS={};for(var bT=0x0;bT<bR['length'];++bT){var bU=bR[bT];var bV=parseFloat(bA[bU]);if(!isNaN(bV))bS[bU]=bV;}bC['setModel3DCameraSpot'](bN,bF,bS);break;}}}}['bind'](this);if(bI){var bK=bI['get']('viewerArea')==bC['getMainViewer']();var bL=bC['getMediaFromPlayer'](bI);if(bK&&bE==bF['get']('media')||!bK&&bL==bF['get']('media')){bJ();return bF!=undefined;}}var bM=function(){bF['unbind']('begin',bM,this);bJ();};bF['bind']('begin',bM,bC);}return bF!=undefined;};TDV['Tour']['prototype']['_setupRemote']=function(){if(this['isMobile']()&&TDV['Remote']!=undefined){var bW=function(){var bX;var bY=function(){var c1=this['_getRootPlayer']();bX=c1['get']('lockedOrientation');c1['set']('lockedOrientation',this['_lockedOrientation']);}['bind'](this);this['_isRemoteSession']=!![];this['_lockedOrientation']=TDV['PlayerAPI']['ORIENTATION_LANDSCAPE'];if(this['_device']!=TDV['Tour']['DEVICE_GENERAL']){var bZ=function(){bY();this['unbind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],bZ);}['bind'](this);this['bind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],bZ);this['reload'](!![]);}else{bY();}var c0=function(){this['_isRemoteSession']=![];this['_getRootPlayer']()['set']('lockedOrientation',bX);TDV['Remote']['unbind'](TDV['Remote']['EVENT_CALL_END'],c0);var c2=this['_getScriptUrl']();if(this['_currentScriptUrl']!=c2)this['reload'](!![]);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],c0);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],bW);}};TDV['Tour']['prototype']['_updateParams']=function(c3,c4){if(c4&&'language'in c3){var c5=c3['language'];if(this['locManager']['hasLocale'](c5)){this['setLocale'](c5);}}var c6=function(c8,c9,ca){var cb=c9['split'](',');for(var cc=0x0,cd=cb['length'];cc<cd;++cc){c8['call'](this,cb[cc]['split']('+'),ca,'and');}};var c7=function(ce){var cf=this['_getRootPlayer']();var cg=cf['getActiveMediaWithViewer'](cf['getMainViewer']());if(cg['get']('class')!='Model3D')return;var ch=cg['get']('objects');var ci=[];ce['split']('+')['forEach'](function(cj){var ck=cj['split'](',');var cl=ck['shift']();if(cl in cf&&ck['length']%0x3==0x0){var cm=ck[0x0],cn=ck[0x1],co=ck[0x2];var cp=ch['some'](function(cu){return cu['get']('class')=='MeasureModel3DObject'&&cm==cu['get']('x')&&cn==cu['get']('y')&&co==cu['get']('z');});if(cp)return;var cq=[];var cr=_cloneMeasureModel3DObject['call'](this,this[cl]);cr['set']('mode','view');cr['set']('x',cm);cr['set']('y',cn);cr['set']('z',co);for(var cs=0x3;cs<ck['length'];cs+=0x3){var ct=this['createInstance']('MeasureModel3DObjectPoint');ct['set']('x',ck[cs]);ct['set']('y',ck[cs+0x1]);ct['set']('z',ck[cs+0x2]);cq['push'](ct);}cr['set']('points',cq);ci['push'](cr);}}['bind'](cf));if(ci['length']>0x0){cg['set']('objects',ch['concat'](ci));}};if('hide-components-tags'in c3||'hct'in c3)c6['call'](this,this['setComponentsVisibilityByTags'],c3['hide-components-tags']||c3['hct'],![]);if('show-components-tags'in c3||'sct'in c3)c6['call'](this,this['setComponentsVisibilityByTags'],c3['show-components-tags']||c3['sct'],!![]);if('hide-overlays-tags'in c3||'hot'in c3)c6['call'](this,this['setOverlaysVisibilityByTags'],c3['hide-overlays-tags']||c3['hot'],![]);if('show-overlays-tags'in c3||'sot'in c3)c6['call'](this,this['setOverlaysVisibilityByTags'],c3['show-overlays-tags']||c3['sot'],!![]);if('hide-overlays-names'in c3||'hon'in c3)this['setOverlaysVisibilityByName'](decodeURIComponent(c3['hide-overlays-names']||c3['hon'])['split'](','),![]);if('show-overlays-names'in c3||'son'in c3)this['setOverlaysVisibilityByName'](decodeURIComponent(c3['show-overlays-names']||c3['son'])['split'](','),!![]);if('show-object-ids'in c3||'sobjids'in c3)this['setObjectsVisibilityByID'](decodeURIComponent(c3['show-object-ids']||c3['sobjids'])['split'](','),!![]);if('hide-object-ids'in c3||'hobjids'in c3)this['setObjectsVisibilityByID'](decodeURIComponent(c3['hide-object-ids']||c3['hobjids'])['split'](','),![]);if('variant'in c3)this['setModel3DVariant'](decodeURIComponent(c3['variant']));if('measures'in c3)c7['call'](this,decodeURIComponent(c3['measures']['split'](';')));};TDV['Tour']['LocaleManager']=function(cv,cw,cx,cy){TDV['EventDispatcher']['call'](this);this['rootPlayer']=cv;this['locales']={};this['defaultLocale']=cx;this['queryParam']=cy;this['currentLocaleMap']={};this['currentLocaleID']=undefined;for(var cz in cw){this['registerLocale'](cz,cw[cz]);}};TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']='localeChanged';TDV['Tour']['LocaleManager']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['LocaleManager']['prototype']['registerLocale']=function(cA,cB){var cC=[cA,cA['split']('-')[0x0]];for(var cD=0x0;cD<cC['length'];++cD){cA=cC[cD];if(!(cA in this['locales'])){this['locales'][cA]=cB;}}};TDV['Tour']['LocaleManager']['prototype']['unregisterLocale']=function(cE){delete this['locales'][cE];if(cE==this['currentLocaleID']){this['setLocale'](this['defaultLocale']);}};TDV['Tour']['LocaleManager']['prototype']['hasLocale']=function(cF){return cF in this['locales'];};TDV['Tour']['LocaleManager']['prototype']['setLocale']=function(cG){var cH;var cI=cG['split']('-')[0x0];var cJ=[cG,cI];for(var cK=0x0;cK<cJ['length'];++cK){var cM=cJ[cK];if(cM in this['locales']){cH=cM;break;}}if(cH===undefined){for(var cM in this['locales']){if(cM['indexOf'](cI)==0x0){cH=cM;break;}}}if(cH===undefined){cH=this['defaultLocale'];}var cN=this['locales'][cH];if(cN!==undefined&&this['currentLocaleID']!=cH){this['currentLocaleID']=cH;var cO=this;if(typeof cN=='string'){var cP=new XMLHttpRequest();cP['onreadystatechange']=function(){if(cP['readyState']==0x4){if(cP['status']==0xc8){cO['locales'][cH]=cO['currentLocaleMap']=cO['_parsePropertiesContent'](cP['responseText']);cO['dispatchEvent'](cO['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}else{throw cN+'\x20can\x27t\x20be\x20loaded';}}};var cQ=cN;if(this['queryParam'])cQ+=(cQ['indexOf']('?')==-0x1?'?':'&')+this['queryParam'];cP['open']('GET',cQ);cP['send']();}else{this['currentLocaleMap']=cN;this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}}};TDV['Tour']['LocaleManager']['prototype']['trans']=function(cR){function cS(cW){return/^\d+$/['test'](cW);}var cT=this['currentLocaleMap'][cR];if(cT&&arguments['length']>0x2){var cU=typeof arguments[0x2]=='object'?arguments[0x2]:undefined;var cV=arguments;cT=cT['replace'](/\{\{([\w _\-\.]+)\}\}/g,function(cX,cY){if(cS(cY))cY=cV[parseInt(cY)+0x1];else if(cU!==undefined)cY=cU[cY];if(typeof cY=='string')cY=this['currentLocaleMap'][cY]||cY;else if(typeof cY=='function')cY=cY['call'](this['rootPlayer']);return cY!==undefined?cY:'';}['bind'](this));}return cT;};TDV['Tour']['LocaleManager']['prototype']['_parsePropertiesContent']=function(cZ){cZ=cZ['replace'](/(^|\n)#[^\n]*/g,'');var d0={};var d1=cZ['split']('\x0a');for(var d2=0x0,d3=d1['length'];d2<d3;++d2){var d4=d1[d2]['trim']();if(d4['length']==0x0){continue;}var d5=d4['indexOf']('=');if(d5==-0x1){console['error']('Locale\x20parser:\x20Invalid\x20line\x20'+d2);continue;}var d6=d4['substr'](0x0,d5)['trim']();var d7=d4['substr'](d5+0x1)['trim']();var d8;while((d8=d7['lastIndexOf']('\x5c'))!=-0x1&&d8==d7['length']-0x1&&++d2<d3){d7=d7['substr'](0x0,d7['length']-0x2);d4=d1[d2];if(d4['length']==0x0)break;d7+='\x0a'+d4;d7=d7['trim']();}d0[d6]=d7;}return d0;};TDV['Tour']['HistoryData']=function(d9){this['playList']=d9;this['list']=[];this['pointer']=-0x1;};TDV['Tour']['HistoryData']['prototype']['add']=function(da){if(this['pointer']<this['list']['length']&&this['list'][this['pointer']]==da){return;}++this['pointer'];this['list']['splice'](this['pointer'],this['list']['length']-this['pointer'],da);};TDV['Tour']['HistoryData']['prototype']['back']=function(){if(!this['canBack']())return;this['playList']['set']('selectedIndex',this['list'][--this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['forward']=function(){if(!this['canForward']())return;this['playList']['set']('selectedIndex',this['list'][++this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['canBack']=function(){return this['pointer']>0x0;};TDV['Tour']['HistoryData']['prototype']['canForward']=function(){return this['pointer']>=0x0&&this['pointer']<this['list']['length']-0x1;};function _getObject(db,dc){return typeof dc=='string'?db[dc['replace']('this.','')]:dc;}function _initModels(){var dd=this['getByClassName']('Model3D');dd['forEach'](function(de){var df=de['get']('data');var dg=df['panoramaLocations'];if(dg){dg['forEach'](function(dh){dh=_getObject(this,dh);var di=dh['get']('data');var dj=_getObject(this,di['panorama']);dj['set']('modelLocations',(dj['get']('modelLocations')||[])['concat'](dh));}['bind'](this));}this['getPlayListItems'](de)['forEach'](function(dk){_initModel3DItem['call'](this,dk);}['bind'](this));}['bind'](this));}function _initModel3DItem(dl){var dm=dl['get']('player');if(!dm)return;var dn=dm['get']('viewerArea');if(!dn)return;var dp=dl['get']('media');var dq;dl['bind']('begin',function(){_initModel['call'](this,dp);dq=dn['get']('doubleClickAction');dn['set']('doubleClickAction','none');this['getCurrentPlayers']()['forEach'](function(dr){if(dr['get']('class')=='PanoramaPlayer'&&dr['get']('viewerArea')==dn){dr['set']('model3DPlayer',dm);}});},this);dl['bind']('stop',function(){dn['set']('doubleClickAction',dq);},this);}function _initModel(ds){var dt=ds['get']('data');if(!dt)ds['set']('data',dt={});if(!dt['panoramaLocations']||dt['isInitialized']||!ds['get']('isLoaded'))return;var du=0xb4/Math['PI'];var dv=ds['get']('worldUnitToMeters')||0x1;var dw=dt['maxDistanceObjectsVisible']||0x0;var dx=dt['panoramaLocations'];var dy=[];var dz=this['get']('data')['surfaceSelectionHotspotMode'];var dA=dz=='hotspotEnabled';dx['forEach'](function(dH){dH=_getObject(this,dH);var dI=dH['get']('data');var dJ=ds['getDistanceToFloor']([dH['get']('x'),dH['get']('y'),dH['get']('z')]);var dK=_getObject(this,dI['panorama']);var dL=dx['filter'](function(dU){var dV=_getObject(this,_getObject(this,dU)['get']('data'));return!dV['excludeAsHotspotPanorama']&&dK!=dV['panorama'];}['bind'](this))['map'](function(dW){dW=_getObject(this,dW);var dX=dW['get']('data');var dY=!!dX['excludeSurfaceSelectionModel'];var dZ=dW['get']('x')-dH['get']('x'),e0=dW['get']('y')-dH['get']('y'),e1=dW['get']('z')-dH['get']('z');var e2=Math['atan2'](dZ,-e1)*du;var e3=Math['atan2'](e0,Math['sqrt'](dZ*dZ+e1*e1))*du;var e4=Math['sqrt'](dZ*dZ+e0*e0+e1*e1);var e5=ds['getDistanceToFloor']([dW['get']('x'),dW['get']('y'),dW['get']('z')]);if(dJ!==undefined&&e5!==undefined)e0=e5-dJ;var e6=Math['sqrt'](dZ*dZ+e0*e0+e1*e1);return{'yaw':e2,'pitch':e3,'width':dX['width'],'height':dX['height'],'opacity':dX['opacity'],'anchorX':dX['anchorX']?dX['anchorX']:0.5,'anchorY':dX['anchorY']?dX['anchorY']:0.5,'transparentAreaActive':!!dX['transparentAreaActive'],'actions':dX['actions'],'position':{'x':dW['get']('x'),'y':dW['get']('y'),'z':dW['get']('z')},'toolTip':dX['toolTip'],'image':_getObject(this,dX['image']),'distance':e4*dv,'floorDistance':e6*dv,'panorama':_getObject(this,dX['panorama']),'backwardYaw':e2-0xb4-dW['get']('yaw'),'excludeSurfacePanorama':dY};}['bind'](this));dL['sort'](function(e7,e8){return e7['distance']-e8['distance'];});var dM=[],dN=(dK['get']('adjacentPanoramas')||[])['concat']();var dO=ds['get']('maxNearestObjectsVisible');var dP=dt['showOnlyHotspotsLineSightInPanoramas'];var dQ={'x':dH['get']('x'),'y':dH['get']('y'),'z':dH['get']('z')};dL['forEach'](function(e9){if(e9['panorama']==dK||dO>0x0&&dM['length']>=dO||dw>0x0&&e9['distance']>dw||dP&&ds['testIntersection'](dQ,e9['position']))return;var ea=dC['call'](this,e9['panorama'],e9['yaw']-dH['get']('yaw'),e9['pitch'],e9['width'],e9['height'],e9['anchorX'],e9['anchorY'],e9['opacity'],e9['transparentAreaActive'],e9['image'],dA&&!e9['excludeSurfacePanorama']);var eb=dD['call'](this,e9['panorama'],e9['yaw']-dH['get']('yaw'),e9['backwardYaw'],e9['floorDistance'],!e9['excludeSurfacePanorama']);dM['push'](ea);var ec=dN['findIndex'](function(ef){return ef['get']('panorama')==e9['panorama'];});if(ec!=-0x1)dN['splice'](ec,0x1);dN['push'](eb);var ed=ea['get']('areas')[0x0];if(e9['toolTip'])ed['set']('toolTip',e9['toolTip']);ed['bind']('click',dB['bind'](this,dK,e9['panorama'],ds,!![]),this);eb['bind']('select',dB['bind'](this,dK,e9['panorama'],ds,!![]),this);var ee=e9['actions'];if(ee){dG['call'](this,ea,ee);if('click'in ee)eb['bind']('select',new Function('event',ee['click']),this);}}['bind'](this));dK['set']('overlays',(dK['get']('overlays')||[])['concat'](dM));dK['set']('adjacentPanoramas',dN);var dR=!ds['get']('surfaceSelectionEnabled')||!!dI['excludeSurfaceSelectionModel'];var dS;if(dR){dS=dE['call'](this,dH['get']('x'),dH['get']('y'),dH['get']('z'),dI['width'],dI['height'],dI['anchorX']?dI['anchorX']:0.5,dI['anchorY']?dI['anchorY']:0.5,dI['opacity'],!!dI['transparentAreaActive'],dt['showOnlyHotspotsLineSight'],_getObject(this,dI['image']));dS['set']('id','sprite_'+dH['get']('id'));dS['set']('translationLineColor',dI['translationLineColor']!=null?dI['translationLineColor']:'#ffffff');dS['set']('translationLineOpacity',dI['translationLineOpacity']!=null?dI['translationLineOpacity']:0x1);dS['set']('translationLineVisible',dI['translationLineVisible']!=null?dI['translationLineVisible']:![]);dS['set']('translationLineWidth',dI['translationLineWidth']!=null?dI['translationLineWidth']:0x1);dS['set']('translationLength',dI['translationLength']!=null?dI['translationLength']:dt['showOnlyHotspotsLineSight']&&(dI['translationY']==null||dI['translationY']==0x0)?dI['height']/0x2:undefined);dS['set']('translationX',dI['translationX']!=null?dI['translationX']:0x0);dS['set']('translationY',dI['translationY']!=null&&dI['translationY']!=0x0?dI['translationY']:dt['showOnlyHotspotsLineSight']?0x1:0x0);dS['set']('translationZ',dI['translationZ']!=null?dI['translationZ']:0x0);if(dI['toolTip'])dS['set']('toolTip',dI['toolTip']);}else dS=dF['call'](this,dH['get']('x'),dH['get']('y'),dH['get']('z'));dI['object']=dS;if(dI['tags']!==undefined)dS['get']('data')['tags']=dI['tags'];if(dI['enabled']!==undefined)dS['set']('enabled',dI['enabled']);dS['get']('data')['location']=dH;var dT=dI['actions'];if(dT){dG['call'](this,dS,dT);}dS['bind']('click',dB['bind'](this,ds,dK,ds,![]),this);dy['push'](dS);}['bind'](this));ds['set']('objects',(ds['get']('objects')||[])['concat'](dy));dt['isInitialized']=!![];function dB(eg,eh,ei,ej){var ek=this['getPlayListsWithMedia'](eg,!![])['filter'](function(er){return this['getMediaFromPlayer'](er['get']('items')[er['get']('selectedIndex')]['get']('player'))==eg;}['bind'](this));if(ek['length']==0x0)return;var el=this['getPlayListItemByMedia'](ek[0x0],eg);var em=el['get']('player')['get']('viewerArea');var en;this['getPlayListsWithMedia'](eh)['forEach'](function(es){var et=this['getPlayListItemByMedia'](es,eh);if(et['get']('player')['get']('viewerArea')==em){if(ej&&el['get']('player')['get']('viewerArea')['get']('translationTransitionEnabled')){eo();et['bind']('begin',eq,this);}es['set']('selectedIndex',es['get']('items')['indexOf'](et));}}['bind'](this));function eo(){en=ei['get']('objects')['filter'](function(eu){var ev=eu['get']('data');return ev&&ev['location']!==undefined;});en['forEach'](function(ew){ew['set']('enabled',![]);});}function ep(){en['forEach'](function(ex){ex['set']('enabled',!![]);});}function eq(ey){ey['source']['unbind']('begin',eq,this);ep();}}function dC(ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ){var eK=_createInstanceFromObj(this,{'class':'HotspotPanoramaOverlay','useHandCursor':!![],'enabledInSurfaceSelection':eJ,'areas':[{'class':'HotspotPanoramaOverlayArea','mapColor':eH?'any':'image'}],'items':[{'class':'FlatHotspotPanoramaOverlayImage','yaw':eA,'pitch':eB,'width':eC,'height':eD,'offsetX':eE*eC,'offsetY':eF*eD,'opacity':eG!=undefined?eG:0x1}]});eK['get']('items')[0x0]['set']('image',eI);return eK;}function dD(eL,eM,eN,eO,eP){return _createInstanceFromObj(this,{'class':'AdjacentPanorama','panorama':'this.'+eL['get']('id'),'backwardYaw':eN,'yaw':eM,'distance':eO,'enabledInSurfaceSelection':eP});}function dE(eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,f0){var f1=_createInstanceFromObj(this,{'class':'SpriteModel3DObject','x':eQ,'y':eR,'z':eS,'anchorX':eV,'anchorY':eW,'depthTest':eZ,'transparentAreaActive':eY,'hideBasedOnDistance':!![],'width':eT,'height':eU,'opacity':eX!=undefined?eX:0x1,'data':{}});f1['set']('image',f0);return f1;}function dF(f2,f3,f4){return _createInstanceFromObj(this,{'class':'SurfaceReticleModel3DObject','x':f2,'y':f3,'z':f4,'depthTest':![],'data':{}});}function dG(f5,f6){Object['keys'](f6)['forEach'](function(f7){if(f5['hasEvent'](f7))f5['bind'](f7,new Function('event',f6[f7]),this);}['bind'](this));}}function _findLocationWithPanorama(f8){var f9=this['getByClassName']('Model3D');for(var fa=0x0,fb=f9['length'];fa<fb;++fa){var fc=f9[fa];var fd=fc['get']('data');if(fd&&fd['panoramaLocations']){var fe=fd['panoramaLocations']['find'](function(ff){ff=_getObject(this,ff);return _getObject(this,ff['get']('data')['panorama'])==f8;}['bind'](this));if(fe)return _getObject(this,fe);}}return undefined;}function _getPlayersWithViewer(fg){var fh=this['getCurrentPlayers']();var fi=fh['length'];while(fi-->0x0){var fj=fh[fi];if(fj['get']('viewerArea')!=fg){fh['splice'](fi,0x1);}}return fh;}function _createInstance(fk,fl,fm){var fn=fk['createInstance'](fl);if(fm){fn['set']('id',fm);fk[fm]=fn;}return fn;}function _createInstanceFromObj(fo,fp){return fq(fp);function fq(fr,fs){if(typeof fr=='object'){if('class'in fr){try{fs=_createInstance(fo,fr['class'],fr['id']);}catch(fw){fs=fr;}}else{fs=fr;}}var ft=function(fx,fy){if('set'in fs)fs['set'](fx,fy);else fs[fx]=fy;};for(var fu in fr){var fv=fr[fu];if(typeof fv=='object'&&fv!==null)ft(fu,fq(fv,fs));else if(typeof fv=='string'&&fv['indexOf']('this.')==0x0)ft(fu,fo[fv['replace']('this.','')]);else ft(fu,fv);}return fs;}}TDV['Tour']['Script']=function(){};TDV['Tour']['Script']['assignObjRecursively']=function(fz,fA){for(var fB in fz){var fC=fz[fB];if(typeof fC=='object'&&fC!==null)this['assignObjRecursively'](fz[fB],fA[fB]||(fA[fB]={}));else fA[fB]=fC;}return fA;};TDV['Tour']['Script']['autotriggerAtStart']=function(fD,fE,fF){var fG=function(fH){fE();if(fF==!![])fD['unbind']('change',fG,this);};fD['bind']('change',fG,this);};TDV['Tour']['Script']['changeBackgroundWhilePlay']=function(fI,fJ,fK){var fL=function(){fM['unbind']('stop',fL,this);if(fK==fO['get']('backgroundColor')&&fR==fO['get']('backgroundColorRatios')){fO['set']('backgroundColor',fP);fO['set']('backgroundColorRatios',fQ);}};var fM=fI['get']('items')[fJ];var fN=fM['get']('player');var fO=fN['get']('viewerArea');var fP=fO['get']('backgroundColor');var fQ=fO['get']('backgroundColorRatios');var fR=[0x0];if(fK!=fP||fR!=fQ){fO['set']('backgroundColor',fK);fO['set']('backgroundColorRatios',fR);fM['bind']('stop',fL,this);}};TDV['Tour']['Script']['changeOpacityWhilePlay']=function(fS,fT,fU){var fV=function(){fW['unbind']('stop',fV,this);if(fZ==fY['get']('backgroundOpacity')){fY['set']('opacity',fZ);}};var fW=fS['get']('items')[fT];var fX=fW['get']('player');var fY=fX['get']('viewerArea');var fZ=fY['get']('backgroundOpacity');if(fU!=fZ){fY['set']('backgroundOpacity',fU);fW['bind']('stop',fV,this);}};TDV['Tour']['Script']['changePlayListWithSameSpot']=function(g0,g1){var g2=g0['get']('selectedIndex');if(g2>=0x0&&g1>=0x0&&g2!=g1){var g3=g0['get']('items')[g2];var g4=g0['get']('items')[g1];var g5=g3['get']('player');var g6=g4['get']('player');if((g5['get']('class')=='PanoramaPlayer'||g5['get']('class')=='Video360Player')&&(g6['get']('class')=='PanoramaPlayer'||g6['get']('class')=='Video360Player')){var g7=this['clonePanoramaCamera'](g4['get']('camera'));this['setCameraSameSpotAsMedia'](g7,g3['get']('media'));var g8=g7['get']('initialPosition');if(g8['get']('yaw')==undefined||g8['get']('pitch')==undefined||g8['get']('hfov')==undefined)return;this['startPanoramaWithCamera'](g4['get']('media'),g7);}}};TDV['Tour']['Script']['clone']=function(g9,gb){var gc=this['rootPlayer']['createInstance'](g9['get']('class'));var gd=g9['get']('id');if(gd){var ge=gd+'_'+Math['random']()['toString'](0x24)['substring'](0x2,0xf);gc['set']('id',ge);this[ge]=gc;}for(var gf=0x0;gf<gb['length'];++gf){var gg=gb[gf];var gh=g9['get'](gg);if(gh!=null)gc['set'](gg,gh);}return gc;};TDV['Tour']['Script']['cloneBindings']=function(gi,gj,gk){var gl=gi['getBindings'](gk);for(var gm=0x0;gm<gl['length'];++gm){var gn=gl[gm];if(typeof gn=='string')gn=new Function('event',gn);gj['bind'](gk,gn,this);}};TDV['Tour']['Script']['clonePanoramaCamera']=function(go){var gp=this['clone'](go,['manualRotationSpeed','manualZoomSpeed','automaticRotationSpeed','automaticZoomSpeed','timeToIdle','sequences','draggingFactor','hoverFactor']);var gq=['initialSequence','idleSequence'];for(var gr=0x0;gr<gq['length'];++gr){var gs=gq[gr];var gt=go['get'](gs);if(gt){var gu=this['clone'](gt,['mandatory','repeat','restartMovementOnUserInteraction','restartMovementDelay']);gp['set'](gs,gu);var gv=gt['get']('movements');var gw=[];var gx=['easing','duration','hfovSpeed','pitchSpeed','yawSpeed','path','stereographicFactorSpeed','targetYaw','targetPitch','targetHfov','targetStereographicFactor','hfovDelta','pitchDelta','yawDelta'];for(var gy=0x0;gy<gv['length'];++gy){var gz=gv[gy];var gA=this['clone'](gz,gx);var gB=gz['getBindings']('end');if(gB['length']>0x0){for(var gC=0x0;gC<gB['length'];++gC){var gD=gB[gC];if(typeof gD=='string'){gD=gD['replace'](go['get']('id'),gp['get']('id'));gD=new Function('event',gD);gA['bind']('end',gD,this);}}}gw['push'](gA);}gu['set']('movements',gw);}}return gp;};TDV['Tour']['Script']['copyObjRecursively']=function(gE){var gF={};for(var gG in gE){var gH=gE[gG];if(typeof gH=='object'&&gH!==null)gF[gG]=this['copyObjRecursively'](gE[gG]);else gF[gG]=gH;}return gF;};TDV['Tour']['Script']['copyToClipboard']=function(gI){if(navigator['clipboard']){navigator['clipboard']['writeText'](gI);}else{var gJ=document['createElement']('textarea');gJ['value']=gI;gJ['style']['position']='fixed';document['body']['appendChild'](gJ);gJ['focus']();gJ['select']();try{document['execCommand']('copy');}catch(gK){}document['body']['removeChild'](gJ);}};TDV['Tour']['Script']['createTween']=function(gL,gM,gN,gO,gP){var gQ=this['rootPlayer']['createInstance']('Effect');var gR=this['get']('data')['tweensState'];if(!gR){this['get']('data')['tweensState']=gR={};}var gS='get'in gL&&typeof gL['get']==='function';var gT=(gS&&gL['get']('id')?gL['get']('id'):(Math['random']()+0x1)['toString'](0x24)['substring'](0x2))+'_';var gU={};for(var gV in gM){var gW=gM[gV];if(gV['startsWith']('on')&&(typeof gW==='function'||typeof gW==='string')){var gX=gV['slice'](0x2);if(typeof gW==='string')gW=eval('('+gW+')');gQ['bind'](gX['charAt'](0x0)['toLowerCase']()+gX['slice'](0x1),gW,this);}else if(typeof gW==='string'&&gW['startsWith']('#')){var gY=parseInt('0x'+(gS?gL['get'](gV)['slice'](0x1):gL[gV]['slice'](0x1)));var gZ=parseInt('0x'+gW['slice'](0x1));gU[gV]={'color':!![],'initialRGB':[gY>>0x10&0xff,gY>>0x8&0xff,gY&0xff],'finalRGB':[gZ>>0x10&0xff,gZ>>0x8&0xff,gZ&0xff]};gR[gT+gV]=gQ;}else{gU[gV]=gS?gL['get'](gV):gL[gV];if(gV=='yaw'&&Math['abs'](gW-gU[gV])>0xb4)gU[gV]=gU[gV]+(gW>gU[gV]?0x168:-0x168);gR[gT+gV]=gQ;}}gQ['set']('duration',(gN||0x0)*0x3e8);gQ['set']('easing',gO||'cubic_in_out');gQ['set']('animationDirection',gP||'normal');gQ['bind']('end',function(){for(var h0 in gU){if(gR[gT+h0]==gQ)delete gR[gT+h0];}this['disposeInstance'](gQ);},this);gQ['bind']('frame',function(){var h1=gQ['getPosition']();for(var h2 in gU){var h3=gU[h2];if(gR[gT+h2]!=gQ)continue;if(typeof h3==='object'&&'color'in h3){var h4=Math['round'](h3['initialRGB'][0x0]+(h3['finalRGB'][0x0]-h3['initialRGB'][0x0])*h1);var h5=Math['round'](h3['initialRGB'][0x1]+(h3['finalRGB'][0x1]-h3['initialRGB'][0x1])*h1);var h6=Math['round'](h3['initialRGB'][0x2]+(h3['finalRGB'][0x2]-h3['initialRGB'][0x2])*h1);h3='#'+((0x1<<0x18)+(h4<<0x10)+(h5<<0x8)+h6)['toString'](0x10)['slice'](0x1);}else{h3=h3+(gM[h2]-h3)*h1;}if(gS)gL['set'](h2,h3);else gL[h2]=h3;}},this);return gQ;};TDV['Tour']['Script']['executeFunctionWhenChange']=function(h7,h8,h9,ha){var hb=undefined;var hc=function(hg){if(hg['data']['previousSelectedIndex']==h8){if(ha)ha['call'](this);if(h9&&hb)hb['unbind']('end',h9,this);h7['unbind']('change',hc,this);}};if(h9){var hd=h7['get']('items')[h8];var he=hd['get']('class');if(he=='PanoramaPlayListItem'||he=='Model3DPlayListItem'){var hf=hd['get']('camera');if(hf!=undefined){hb=hf['get']('initialSequence');if(hb==undefined)hb=hf['get']('idleSequence');}}else{hb=hd['get']('media');}if(hb){hb['bind']('end',h9,this);}}h7['bind']('change',hc,this);};TDV['Tour']['Script']['executeJS']=function(hh){try{eval(hh);}catch(hi){console['log']('Javascript\x20error:\x20'+hi);console['log']('\x20\x20\x20code:\x20'+hh);}};TDV['Tour']['Script']['fixTogglePlayPauseButton']=function(hj){var hk=hj['get']('buttonPlayPause');if(typeof hk!=='undefined'&&hj['get']('state')=='playing'){if(!Array['isArray'](hk))hk=[hk];for(var hl=0x0;hl<hk['length'];++hl)hk[hl]['set']('pressed',!![]);}};TDV['Tour']['Script']['getActiveMediaWithViewer']=function(hm){var hn=this['getActivePlayerWithViewer'](hm);if(hn==undefined){return undefined;}return this['getMediaFromPlayer'](hn);};TDV['Tour']['Script']['getActivePlayerWithViewer']=function(ho){var hp=this['getActivePlayersWithViewer'](ho);if(hp['length']>0x1){hp['sort'](function(hq,hr){var hs=hq['get']('class');var ht=hr['get']('class');if(hs=='Model3DPlayer')return 0x1;else if(ht=='Model3DPlayer')return-0x1;else return 0x0;});}return hp['length']>0x0?hp[0x0]:undefined;};TDV['Tour']['Script']['getActivePlayersWithViewer']=function(hu){var hv=this['getCurrentPlayers']();var hw=hv['length'];var hx=[];while(hw-->0x0){var hy=hv[hw];if(hy['get']('viewerArea')==hu){var hz=hy['get']('class');if(hz=='PanoramaPlayer'&&(hy['get']('panorama')!=undefined||hy['get']('video')!=undefined)||(hz=='VideoPlayer'||hz=='Video360Player')&&hy['get']('video')!=undefined||hz=='PhotoAlbumPlayer'&&hy['get']('photoAlbum')!=undefined||hz=='MapPlayer'&&hy['get']('map')!=undefined||hz=='Model3DPlayer'&&hy['get']('model')!=undefined)hx['push'](hy);}}return hx;};TDV['Tour']['Script']['getCurrentPlayerWithMedia']=function(hA){var hB=undefined;var hC=undefined;switch(hA['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':hB='PanoramaPlayer';hC='panorama';break;case'Video360':hB='PanoramaPlayer';hC='video';break;case'PhotoAlbum':hB='PhotoAlbumPlayer';hC='photoAlbum';break;case'Map':hB='MapPlayer';hC='map';break;case'Video':hB='VideoPlayer';hC='video';break;case'Model3D':hB='Model3DPlayer';hC='media';break;}if(hB!=undefined){var hD=this['getByClassName'](hB);for(var hE=0x0;hE<hD['length'];++hE){var hF=hD[hE];if(hF['get'](hC)==hA){return hF;}}}else{return undefined;}};TDV['Tour']['Script']['getCurrentPlayers']=function(){var hG=this['getByClassName']('PanoramaPlayer');hG=hG['concat'](this['getByClassName']('VideoPlayer'));hG=hG['concat'](this['getByClassName']('Video360Player'));hG=hG['concat'](this['getByClassName']('PhotoAlbumPlayer'));hG=hG['concat'](this['getByClassName']('MapPlayer'));hG=hG['concat'](this['getByClassName']('Model3DPlayer'));return hG;};TDV['Tour']['Script']['getGlobalAudio']=function(hH){var hI=window['currentGlobalAudios'];if(hI!=undefined&&hH['get']('id')in hI){hH=hI[hH['get']('id')]['audio'];}return hH;};TDV['Tour']['Script']['getMediaByName']=function(hJ){var hK=this['getByClassName']('Media');for(var hL=0x0,hM=hK['length'];hL<hM;++hL){var hN=hK[hL];var hO=hN['get']('data');if(hO&&hO['label']==hJ){return hN;}}return undefined;};TDV['Tour']['Script']['getMediaByTags']=function(hP,hQ){return this['_getObjectsByTags'](hP,['Media'],'tags2Media',hQ);};TDV['Tour']['Script']['getAudioByTags']=function(hR,hS){return this['_getObjectsByTags'](hR,['Audio'],'tags2Media',hS);};TDV['Tour']['Script']['getOverlaysByTags']=function(hT,hU){var hV=this['_getObjectsByTags'](hT,['HotspotPanoramaOverlay','HotspotMapOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay','SpriteModel3DObject','PanoramaModel3DLocation'],'tags2Overlays',hU);return hV['map'](hW=>{return hW['get']('class')=='PanoramaModel3DLocation'?hW['get']('data')['object']:hW;});};TDV['Tour']['Script']['getOverlaysByGroupname']=function(hX){var hY=this['get']('data');var hZ='groupname2Overlays';var i0=hY[hZ];if(!i0){var i1=['HotspotPanoramaOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay'];hY[hZ]=i0={};for(var i2=0x0;i2<i1['length'];++i2){var i3=i1[i2];var i4=this['getByClassName'](i3);for(var i5=0x0,i6=i4['length'];i5<i6;++i5){var i7=i4[i5];var i8=i7['get']('data');if(i8&&i8['group']){var i9=i0[i8['group']];if(!i9)i0[i8['group']]=i9=[];i9['push'](i7);}}}}return i0[hX]||[];};TDV['Tour']['Script']['getRootOverlay']=function(ia){var ib=ia['get']('class');var ic=ib['indexOf']('HotspotPanoramaOverlayArea')!=-0x1;var ie=ib['indexOf']('HotspotPanoramaOverlayImage')!=-0x1;if(ic||ie){var ig=this['get']('data');var ih='overlays';var ii=ig[ih];if(!ii){var ij=['HotspotPanoramaOverlay'];ii=[];for(var ik=0x0;ik<ij['length'];++ik){var il=ij[ik];ii=ii['concat'](this['getByClassName'](il));}ig[ih]=ii;}var im=ic?'areas':'items';for(var io=0x0,ip=ii['length'];io<ip;++io){var iq=ii[io];var ir=iq['get'](im);if(ir){for(var is=0x0;is<ir['length'];++is){if(ir[is]==ia)return iq;}}}}return ia;};TDV['Tour']['Script']['initOverlayGroupRotationOnClick']=function(it){var iu=this['getOverlaysByGroupname'](it);if(iu['length']>0x1){iu['sort'](function(iB,iC){var iD=iB['get']('data')['groupIndex'];var iE=iC['get']('data')['groupIndex'];return iD-iE;});for(var iv=0x0,iw=iu['length'];iv<iw;++iv){var ix=iu[iv];var iy=iu[(iv+0x1)%iw];var iz=ix['get']('class');var iA=ix;if(iz=='HotspotPanoramaOverlay'){iA=ix['get']('areas')[0x0];}iA['bind']('click',function(iF,iG){this['setOverlaysVisibility']([iF],![]);this['setOverlaysVisibility']([iG],!![]);}['bind'](this,ix,iy),this);}}};TDV['Tour']['Script']['getComponentsByTags']=function(iH,iI){return this['_getObjectsByTags'](iH,['UIComponent'],'tags2Components',iI);};TDV['Tour']['Script']['_getObjectsByTags']=function(iJ,iK,iL,iM){var iN=this['get']('data');var iO=iN[iL];if(!iO){iN[iL]=iO={};for(var iP=0x0;iP<iK['length'];++iP){var iQ=iK[iP];var iR=this['getByClassName'](iQ);for(var iT=0x0,iV=iR['length'];iT<iV;++iT){var iX=iR[iT];var iY=iX['get']('data');if(iY&&iY['tags']){var iZ=iY['tags'];for(var j2=0x0,j3=iZ['length'];j2<j3;++j2){var j4=iZ[j2];if(j4 in iO)iO[j4]['push'](iX);else iO[j4]=[iX];}}}}}var j5=undefined;iM=iM||'and';for(var iT=0x0,iV=iJ['length'];iT<iV;++iT){var j6=iO[iJ[iT]];if(!j6)continue;if(!j5)j5=j6['concat']();else{if(iM=='and'){for(var j2=j5['length']-0x1;j2>=0x0;--j2){if(j6['indexOf'](j5[j2])==-0x1)j5['splice'](j2,0x1);}}else if(iM=='or'){for(var j2=j6['length']-0x1;j2>=0x0;--j2){var iX=j6[j2];if(j5['indexOf'](iX)==-0x1)j5['push'](iX);}}}}return j5||[];};TDV['Tour']['Script']['getComponentByName']=function(j7){var j8=this['getByClassName']('UIComponent');for(var j9=0x0,ja=j8['length'];j9<ja;++j9){var jb=j8[j9];var jc=jb['get']('data');if(jc!=undefined&&jc['name']==j7){return jb;}}return undefined;};TDV['Tour']['Script']['getMainViewer']=function(){var jd='MainViewer';return this[jd]||this[jd+'_mobile'];};TDV['Tour']['Script']['getMediaFromPlayer']=function(je){switch(je['get']('class')){case'PanoramaPlayer':return je['get']('panorama')||je['get']('video');case'VideoPlayer':case'Video360Player':return je['get']('video');case'PhotoAlbumPlayer':return je['get']('photoAlbum');case'MapPlayer':return je['get']('map');case'Model3DPlayer':return je['get']('model');}};TDV['Tour']['Script']['getMediaWidth']=function(jf){switch(jf['get']('class')){case'Video360':var jg=jf['get']('video');if(jg instanceof Array){var jh=0x0;for(var ji=0x0;ji<jg['length'];ji++){var jj=jg[ji];if(jj['get']('width')>jh)jh=jj['get']('width');}return jh;}else{return jj['get']('width');}default:return jf['get']('width');}};TDV['Tour']['Script']['getMediaHeight']=function(jk){switch(jk['get']('class')){case'Video360':var jl=jk['get']('video');if(jl instanceof Array){var jm=0x0;for(var jn=0x0;jn<jl['length'];jn++){var jo=jl[jn];if(jo['get']('height')>jm)jm=jo['get']('height');}return jm;}else{return jo['get']('height');}default:return jk['get']('height');}};TDV['Tour']['Script']['getOverlays']=function(jp){switch(jp['get']('class')){case'LivePanorama':case'HDRPanorama':case'Panorama':var jq=jp['get']('overlays')['concat']()||[];var jr=jp['get']('frames');for(var js=0x0;js<jr['length'];++js){jq=jq['concat'](jr[js]['get']('overlays')||[]);}return jq;case'Video360':case'Map':return jp['get']('overlays')||[];case'Model3D':return jp['get']('objects');default:return[];}};TDV['Tour']['Script']['getPanoramaOverlayByName']=function(jt,ju){var jv=this['getOverlays'](jt);for(var jw=0x0,jx=jv['length'];jw<jx;++jw){var jy=jv[jw];var jz=jy['get']('data');if(jz!=undefined&&jz['label']==ju){return jy;}}return undefined;};TDV['Tour']['Script']['getPanoramaOverlaysByTags']=function(jA,jB,jC){var jD=[];var jE=this['getOverlays'](jA);var jF=this['getOverlaysByTags'](jB,jC);for(var jG=0x0,jH=jE['length'];jG<jH;++jG){var jI=jE[jG];if(jF['indexOf'](jI)!=-0x1)jD['push'](jI);}return jD;};TDV['Tour']['Script']['getPixels']=function(jJ){var jK=/((\+|-)?d+(.d*)?)(px|vw|vh|vmin|vmax)?/i['exec'](jJ);if(jK==undefined){return 0x0;}var jL=parseFloat(jK[0x1]);var jM=jK[0x4];var jN=this['rootPlayer']['get']('actualWidth')/0x64;var jO=this['rootPlayer']['get']('actualHeight')/0x64;switch(jM){case'vw':return jL*jN;case'vh':return jL*jO;case'vmin':return jL*Math['min'](jN,jO);case'vmax':return jL*Math['max'](jN,jO);default:return jL;}};TDV['Tour']['Script']['getPlayListsWithMedia']=function(jP,jQ){var jR=[];var jS=this['getByClassName']('PlayList');for(var jT=0x0,jU=jS['length'];jT<jU;++jT){var jV=jS[jT];if(jQ&&jV['get']('selectedIndex')==-0x1)continue;var jW=this['getPlayListItemByMedia'](jV,jP);if(jW!=undefined&&jW['get']('player')!=undefined)jR['push'](jV);}return jR;};TDV['Tour']['Script']['_getPlayListsWithViewer']=function(jX){var jY=this['getByClassName']('PlayList');var jZ=function(k1){var k2=k1['get']('items');for(var k3=k2['length']-0x1;k3>=0x0;--k3){var k4=k2[k3];var k5=k4['get']('player');if(k5!==undefined&&k5['get']('viewerArea')==jX)return!![];}return![];};for(var k0=jY['length']-0x1;k0>=0x0;--k0){if(!jZ(jY[k0]))jY['splice'](k0,0x1);}return jY;};TDV['Tour']['Script']['getPlayListWithItem']=function(k6){var k7=this['getByClassName']('PlayList');for(var k8=k7['length']-0x1;k8>=0x0;--k8){var k9=k7[k8];var ka=k9['get']('items');for(var kb=ka['length']-0x1;kb>=0x0;--kb){var kc=ka[kb];if(kc==k6)return k9;}}return undefined;};TDV['Tour']['Script']['getFirstPlayListWithMedia']=function(kd,ke){var kf=this['getPlayListsWithMedia'](kd,ke);return kf['length']>0x0?kf[0x0]:undefined;};TDV['Tour']['Script']['getPlayListItemByMedia']=function(kg,kh){var ki=kg['get']('items');for(var kj=0x0,kk=ki['length'];kj<kk;++kj){var kl=ki[kj];if(kl['get']('media')==kh)return kl;}return undefined;};TDV['Tour']['Script']['getPlayListItemIndexByMedia']=function(km,kn){var ko=this['getPlayListItemByMedia'](km,kn);return ko?km['get']('items')['indexOf'](ko):-0x1;};TDV['Tour']['Script']['getPlayListItems']=function(kp,kq){var kr=function(){switch(kp['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':return'PanoramaPlayListItem';case'Map':return'MapPlayListItem';case'Model3D':return'Model3DPlayListItem';case'PhotoAlbum':return'PhotoAlbumPlayListItem';case'Video':return'VideoPlayListItem';case'Video360':return'Video360PlayListItem';}}();if(kr!=undefined){var ks=this['getByClassName'](kr);for(var kt=ks['length']-0x1;kt>=0x0;--kt){var ku=ks[kt];if(ku['get']('media')!=kp||kq!=undefined&&ku['get']('player')!=kq){ks['splice'](kt,0x1);}}return ks;}else{return[];}};TDV['Tour']['Script']['historyGoBack']=function(kv){var kw=this['get']('data')['history'][kv['get']('id')];if(kw!=undefined){kw['back']();}};TDV['Tour']['Script']['historyGoForward']=function(kx){var ky=this['get']('data')['history'][kx['get']('id')];if(ky!=undefined){ky['forward']();}};TDV['Tour']['Script']['init']=function(){var kz=this['get']('data')['history'];var kA=function(kJ){var kK=kJ['source'];var kL=kK['get']('selectedIndex');if(kL<0x0)return;var kM=kK['get']('id');if(!kz['hasOwnProperty'](kM))kz[kM]=new TDV['Tour']['HistoryData'](kK);kz[kM]['add'](kL);};var kB=this['getByClassName']('PlayList');for(var kD=0x0,kE=kB['length'];kD<kE;++kD){var kF=kB[kD];kF['bind']('change',kA,this);}if(this['getMainViewer']()['get']('translationTransitionEnabled')){var kG=this['getByClassName']('ThumbnailList');kG=kG['concat'](this['getByClassName']('ThumbnailGrid'));kG=kG['concat'](this['getByClassName']('DropDown'));function kN(kO){var kP=kO['source']['get']('playList');var kQ=kP['get']('selectedIndex');if(kQ>=0x0){this['skip3DTransitionOnce'](kP['get']('items')[kQ]['get']('player'));}}for(var kD=0x0,kH=kG['length'];kD<kH;++kD){var kI=kG[kD];kI['bind']('change',kN,this);}}_initModels['call'](this);};TDV['Tour']['Script']['sendAnalyticsData']=function(kR,kS,kT){if(window['dataLayer']){window['dataLayer']['push']({'event':kS,'label':kT,'category':kR});}if(!this['get']('data')['tour']['player']['cookiesEnabled'])return;if(window['ga']){window['ga']('send','event',kR,kS,kT);}if(window['gtag']){window['gtag']('event',kS,{'category':kR,'label':kT});}};TDV['Tour']['Script']['initAnalytics']=function(){var kV=this['getByClassName']('Panorama');kV=kV['concat'](this['getByClassName']('Video360'));kV=kV['concat'](this['getByClassName']('Map'));kV=kV['concat'](this['getByClassName']('Model3D'));for(var kY=0x0,l1=kV['length'];kY<l1;++kY){var l2=kV[kY];var l5=l2['get']('data');var l6=l5?l5['label']:'';var l7=this['getOverlays'](l2);for(var l8=0x0,l9=l7['length'];l8<l9;++l8){var la=l7[l8];var lb=la['get']('data')!=undefined?l6+'\x20-\x20'+la['get']('data')['label']:l6;switch(la['get']('class')){case'FlatHotspotPanoramaOverlay':case'HotspotPanoramaOverlay':case'HotspotMapOverlay':case'AreaHotspotMapOverlay':var lc=la['get']('areas');for(var ld=0x0;ld<lc['length'];++ld){lc[ld]['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',lb),this,![]);}break;case'CeilingCapPanoramaOverlay':case'TripodCapPanoramaOverlay':la['bind']('click',this['sendAnalyticsData']['bind'](this,'Cap','click',lb),this,![]);break;case'QuadVideoPanoramaOverlay':case'VideoPanoramaOverlay':la['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',lb),this,![]);la['bind']('start',this['sendAnalyticsData']['bind'](this,'Hotspot','start',lb),this,![]);break;case'QuadFramePanoramaOverlay':case'FramePanoramaOverlay':case'SpriteModel3DObject':la['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',lb),this,![]);break;}}}var le=this['getByClassName']('UIComponent');for(var kY=0x0,l1=le['length'];kY<l1;++kY){var lf=le[kY];var lg=lf['getBindings']('click');if(lg['length']>0x0){var l5=lf['get']('data');if(l5===undefined)continue;var lh=l5['name'];lf['bind']('click',this['sendAnalyticsData']['bind'](this,'Skin','click',lh),this,![]);}}var li=this['mainPlayList']['get']('items')['concat'](this['getByClassName']('PlayListItem'));var lj={};for(var kY=0x0,l1=li['length'];kY<l1;++kY){var lk=li[kY];var kV=lk['get']('media');if(!(kV['get']('id')in lj)){var l5=kV['get']('data');lk['bind']('begin',this['sendAnalyticsData']['bind'](this,'Media','play',l5?l5['label']:undefined),this,![]);lj[kV['get']('id')]=lk;}}if(TDV['Remote']!=undefined){var ll=undefined;TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],function(lm){ll=Date['now']();this['sendAnalyticsData']('Live\x20Guided\x20Tour','Start\x20Call','Guest:\x20'+lm);}['bind'](this));TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],function(ln){var lo=new Date();lo['setTime'](Date['now']()-ll);this['sendAnalyticsData']('Live\x20Guided\x20Tour','End\x20Call','Guest:\x20'+ln+'\x20Duration:\x20'+lo['toUTCString']()['split']('\x20')[0x4]);}['bind'](this));}};TDV['Tour']['Script']['initQuiz']=function(lp,lq,lr){var ls={"score":{"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3},"window":{"paddingLeft":20,"shadowOpacity":0.3,"stats":{"borderSize":1,"secondaryValue":{"fontColor":"#000000","fontSize":20,"fontFamily":"Arial","fontWeight":"bold","paddingLeft":5},"gap":0,"label":{"fontColor":"#000000","fontSize":15,"fontFamily":"Arial","fontWeight":"normal"},"mainValue":{"fontColor":"#000000","fontSize":40,"fontFamily":"Arial","fontWeight":"bold"},"borderColor":"#009fe3","layout":"vertical","height":150,"horizontalAlign":"center","borderRadius":75,"title":{"fontSize":20,"paddingTop":10,"fontColor":"#000000","fontFamily":"Arial","fontWeight":"normal","paddingRight":5,"paddingLeft":5},"verticalAlign":"middle","minWidth":150},"description":{"fontSize":16,"paddingBottom":15,"paddingTop":15,"fontColor":"#000000","textAlign":"center","fontFamily":"Arial","fontWeight":"normal","paddingRight":100,"paddingLeft":100},"paddingTop":20,"backgroundColor":"#ffffff","calification":{"fontSize":30,"textAlign":"center","verticalAlign":"middle","width":"100%","paddingTop":15,"fontColor":"#009fe3","paddingBottom":10,"fontFamily":"Arial","fontWeight":"bold","paddingRight":100,"paddingLeft":100},"timeContainer":{"width":"100%","paddingBottom":15,"gap":5,"paddingTop":10,"verticalAlign":"middle","horizontalAlign":"center","paddingRight":100,"paddingLeft":100},"shadowSpread":4,"content":{"horizontalAlign":"center","width":"100%"},"horizontalAlign":"center","shadowColor":"#000000","maxWidth":1500,"paddingBottom":20,"closeButton":{"iconWidth":18,"iconLineWidth":2,"height":45,"backgroundColor":"#009fe3","iconHeight":18,"iconColor":"#ffffff","width":45},"shadowVerticalLength":0,"shadow":true,"shadowBlurRadius":4,"title":{"fontSize":50,"paddingBottom":15,"paddingTop":50,"fontColor":"#000000","textAlign":"center","fontFamily":"Arial","fontWeight":"bold"},"minWidth":500,"statsContainer":{"paddingBottom":15,"contentOpaque":true,"gap":20,"paddingTop":15,"verticalAlign":"middle","overflow":"scroll","horizontalAlign":"center","paddingRight":100,"paddingLeft":100},"buttonsContainer":{"width":"100%","paddingBottom":50,"gap":8,"paddingTop":35,"verticalAlign":"middle","button":{"fontColor":"#ffffff","fontSize":15,"verticalAlign":"middle","paddingTop":12,"backgroundColor":"#009fe3","paddingBottom":12,"fontFamily":"Arial","fontWeight":"bold","horizontalAlign":"center","paddingRight":25,"paddingLeft":25},"horizontalAlign":"center","paddingRight":100,"paddingLeft":100},"paddingRight":20,"shadowHorizontalLength":0}},"question":{"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3},"window":{"shadowOpacity":0.3,"mediaContainer":{"buttonNext":{"height":37,"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAjElEQVQokbXTyRaAIAgFUJHmeTL7/y9Naie+Toti2T0R4suYH4qI0HNKGpGV0iYwuoLFlEzeu0YT2dqH2jtFZHN3UR9T6FamKQi3O6Q+STL2O4r6WR4QcTZfdIQjR6NzttxUaKk2Eb/qdql34HfgbPA8eAdwb3jXD/eD7xTnAGcH5g1n9CHXBv8Ln9UJhXMPrAhUbYMAAAAASUVORK5CYII=","width":25},"buttonPrevious":{"height":37,"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAkElEQVQokbXSyRaDIAwFUALOQ7W2iP//pQK6CGheF55mmXuYwlPqn0VEUp/uzPd0qAuFvqnsdKEInXVuziTCsDpfraYcxgi25MKh5rsxWHvDhMMIIJWf8EpAeei2CO/CJK8kXR2w5ED6E8B9m0zkNegc8W7ye8AM5LmBWYP/AX8KcgCyA/IGMqrkXJ92239aO3W4D6yL2ECSAAAAAElFTkSuQmCC","width":25},"viewerArea":{"playbackBarHeadShadowSpread":2,"playbackBarRight":0,"playbackBarHeadBackgroundColor":"#cccccc","playbackBarHeadShadowHorizontalLength":0,"playbackBarHeadShadowBlurRadius":2,"playbackBarProgressBackgroundColor":"#3399ff","playbackBarHeadBorderRadius":7,"playbackBarBottom":5,"playbackBarProgressOpacity":0.5,"playbackBarLeft":0,"playbackBarHeadShadowOpacity":0.3,"playbackBarHeadBorderColor":"#ffffff","playbackBarHeadHeight":14,"playbackBarHeadShadowColor":"#000000","playbackBarBorderSize":0,"backgroundColor":"#e6e6e6","playbackBarBackgroundColor":"#000000","playbackBarHeadBorderSize":3,"playbackBarHeight":6,"playbackBarHeadShadow":true,"playbackBarHeadShadowVerticalLength":0,"backgroundOpacity":1,"playbackBarHeadOpacity":1,"playbackBarHeadWidth":14,"playbackBarBackgroundOpacity":0.5,"playbackBarBorderRadius":0},"height":"100%","width":"70%"},"optionsContainer":{"overflow":"scroll","contentOpaque":true,"height":"100%","gap":10,"width":"30%"},"shadowVerticalLength":0,"shadowColor":"#000000","option":{"label":{"fontSize":18,"incorrect":{"fontSize":18,"fontColor":"#ffffff","fontFamily":"Arial","fontWeight":"bold","horizontalAlign":"center","width":38,"backgroundColor":"#ed1c24","verticalAlign":"middle","backgroundOpacity":1,"height":38,"pressedBackgroundOpacity":1,"borderRadius":19},"fontColor":"#ffffff","fontFamily":"Arial","fontWeight":"bold","horizontalAlign":"center","width":38,"backgroundColor":"#000000","verticalAlign":"middle","backgroundOpacity":0.2,"height":38,"pressedBackgroundOpacity":1,"correct":{"fontSize":18,"fontColor":"#ffffff","fontFamily":"Arial","fontWeight":"bold","horizontalAlign":"center","width":38,"backgroundColor":"#39b54a","verticalAlign":"middle","backgroundOpacity":1,"height":38,"pressedBackgroundOpacity":1,"borderRadius":19},"borderRadius":19},"gap":10,"text":{"fontSize":18,"verticalAlign":"middle","selected":{"fontColor":"#000000","fontSize":18,"fontFamily":"Arial","textAlign":"left","paddingTop":9},"paddingTop":9,"fontColor":"#404040","textAlign":"left","fontFamily":"Arial"}},"borderRadius":5,"bodyContainer":{"layout":"horizontal","height":"100%","gap":35,"width":"100%","paddingBottom":30,"paddingRight":30,"paddingLeft":30},"shadowHorizontalLength":0,"paddingTop":20,"backgroundColor":"#ffffff","shadowSpread":4,"buttonsContainer":{"verticalAlign":"bottom","horizontalAlign":"right","button":{"fontSize":18,"paddingTop":10,"fontColor":"#ffffff","fontFamily":"Arial","fontWeight":"bold","horizontalAlign":"center","paddingLeft":25,"backgroundColor":"#000000","paddingBottom":10,"backgroundOpacity":0.7,"verticalAlign":"middle","paddingRight":25,"borderRadius":3}},"horizontalAlign":"center","shadow":true,"paddingLeft":20,"paddingBottom":20,"shadowBlurRadius":4,"height":"60%","width":"60%","title":{"fontSize":20,"paddingBottom":40,"paddingTop":25,"fontColor":"#000000","textAlign":"center","fontFamily":"Arial","fontWeight":"bold","paddingRight":50,"paddingLeft":50},"minWidth":500,"closeButton":{"iconWidth":18,"iconLineWidth":2,"height":45,"backgroundColor":"#009FE3","iconHeight":18,"iconColor":"#FFFFFF","width":45},"paddingRight":20,"backgroundOpacity":1}},"timeout":{"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3},"window":{"shadowOpacity":0.3,"gap":15,"paddingTop":45,"backgroundColor":"#ffffff","shadowSpread":4,"buttonsContainer":{"horizontalAlign":"center","gap":10,"width":"100%"},"horizontalAlign":"center","shadowColor":"#000000","paddingLeft":80,"button":{"fontColor":"#ffffff","fontSize":15,"verticalAlign":"middle","paddingTop":12,"backgroundColor":"#009fe3","paddingBottom":12,"fontFamily":"Arial","fontWeight":"bold","horizontalAlign":"center","paddingRight":25,"paddingLeft":25},"paddingBottom":55,"icon":{"height":72,"url":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAABGCAYAAAB/h5zrAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABhRJREFUeNrsW41y2jgQliVjGxMuhDR37/92l2uvhVIcjGtzuLO6aBRpdyVb9G4azWiABKH99n9XcibSj9V13geu6a7z7+scUhAkbwB6GbFmAVP8X0H/58Y76HfQ76DfQYeOLmLNGKq+pyIouxFzS3jNkZg9MucrvB8B96mIyW8EumV858L8XlLQC5DKqGqHSDX9WeMe6G+BdpZ6jwseDZsfIC0MBa6M7KqEzwr5/hlUu4P3MYzeXGdtfG6uc0eBtgGLQOAjqAo2nppKjnuejBkK2Ak8YwI2ifgTcVYrAJxi9ED80VOIrGH6xr/A8wDAvhBXwmZFYjtVsM8KgB8cAsOG1oCdCgCsw0pjMOAeprqhk8qA0bUV2jKGlo04lQLin5iJioJNxu9+uIF0qcSqhtcugPmLDNA//UppaA5c6lIW7RB+WtjHlYQooCUHOqqUKXJmqMrjzMA7cDinyLZPCV2XembMu8yykTmAn8GztjPa7grmVOmPIavJHBvontYooW0AEwYoGJqEIesh0HnuwPEWgKcTDm93MWz8An+rmNL9BK+pxgUYOjBp6g3QZ9PEFMHZLaP8HAn5bDApRHJ5hL13ILUlQZs0BPJmY994ZJSee1cVwxg1xPkV0HAKXD+Az6CAly5HKhGiCoaEj4wMSCIpofB4ZwkES0LinAOBe66kt8SGI/e+EJs9Qa5cA4FmJ6QytGgk+ptF0++gBePaF8R0BvjtmpFFdhjomviRnmHDo5TujFxAAvFmJ0UazsaU1p3hqDLY50zQY7akfBp3xDona0YYGBg2R33eIZHABQobB2DUApF2rcOpLekK1GqKHWtQujBpIX5zvXtvrD0ExP2OoF3q38oRB+PjKHc0ExKVmLW67PVhKLR9K4sTG4KQF8//1mCLF5GmXy3h97cgzbPHxHpC2j8cmrQ4gQ2fWq8AdAVEqZnBrsGbr+GzEnjvHOvhLW31LikOIZ7aLlf7GcDGFhlHRGMLG3RBxGVM7Ssmp+cAO0Am6BtUdVfmzMZaSzDk2WhIxNTOykhkqMLmM7FHTzRF8pyRgwtG9dQHqPRoDr8ZRPVMP7BnhkvBBZ0TMXeuCy+1w94UA8Au0GwwASw4B3jfGeUhR60lSNjWjoJwSntPo0MKf+MfZRBH0lg+q3vl48Z/EcALq8b9hEhf5+StpxgqjAzyo6fhQBbaMb2nylrPabS7HGPjcIwfEedZMJ0vCTrGZvsQlbL+X3pSX453PgY4WFS9Y1LHBkq/JdTDFGidOkqQ1h8Om+bk23tDC3z5Q8YBHfudY0AY0d3SjeEElaNg4IxTgClFSVoazmrq0N1M+9zpGNlrw6KK18xyZqG+EPM17/UBuz48THGtA5P0kDOzmIoAvQHn1CIdkSlZnB3ajkj+LQnQZ8n0hBVBTG20ZGqRZtRWORtD649wKZlFhUK4l4V4zgljQHpu3O5PZyclVMzzcffFsMsO6a5MHQfwBWfEhBSR1jYuqWwJ9XgWCW/yzTA2hKSf7R6ZzlmXRPjiHsHovtYCGBVy1lVBcZJDOOWsXQi8x3fWOUXuCCdYfatPHDjhyzzrLiG95MbYrQFeMSMC9ZxII5BC48BQIcnkPOZR9QMtFZEBcrLGFWHLPQW6IexWWXUxp9vSeACvxNsOamslLN8YzKWkfOCkaxfCoS0YHv8E9nhyaE9lVVqtxehGvF7j6Bg1fUaEqT0HdCdeL7BivS6sNWzeanDF9tqIuQeHs6Kcn76OQan/m1I1I36Uc6kOSwkphxXbQeXecDy4fBQmyYvg3e8ojIIkJCxdIkKZjiAPgnel80toCaYXSkEf+eTi9a5mqmcvJIC9Y6S6A/TgLjGgtZNRjH6U7qKUERUUJ8l5YPbE9L30XsS0VQJTPFfIakT8jcEF7LcU/MYl6yJ+aEUUCtwMX/oRBd+TOKVRMJQi/PST/chFTBlI3aD/GaOD0MQyqZiz5DPMStzuuS4qZO5CTCib6GA2It0zG5x2016EX7ybRVK3eobDtF3deo7q0M6pnqnBTwabsp+lxOsFODUDUDP0zTJSOyIFGqCfwssFfd+zN8Jbkmcv/xFgALaVsLLFsFFBAAAAAElFTkSuQmCC","width":62},"shadowVerticalLength":0,"shadow":true,"shadowBlurRadius":4,"title":{"fontSize":40,"textAlign":"center","fontColor":"#000000","paddingBottom":20,"fontFamily":"Arial","fontWeight":"bold"},"paddingRight":80,"shadowHorizontalLength":0}}};var lt=this['get']('data');var lu=lt['createQuizConfig']['call'](this);lF['call'](this,lu);lu['playList']=lp;lu['player']=this;lu['theme']='theme'in lu?this['mixObject'](ls,lu['theme']):ls;if(lu['questions']){lE['call'](this,lu['questions']);for(var lv=0x0;lv<lu['questions']['length'];++lv){var lw=lu['questions'][lv];lE['call'](this,lw['options']);}}if(lu['objectives']){lE['call'](this,lu['objectives']);}if(lu['califications']){lE['call'](this,lu['califications']);}if(lu['score']){this[lu['score']['id']]=lu['score'];}if(lu['question']){this[lu['question']['id']]=lu['question'];}if(lu['timeout']){this[lu['timeout']['id']]=lu['timeout'];}var lx=lu['data']&&lu['data']['titlesScale']?lu['data']['titlesScale']:0x1;var ly=lu['data']&&lu['data']['bodyScale']?lu['data']['bodyScale']:0x1;if(this['get']('isMobile')&&!this['get']('data')['tour']['isIPad']()){var lz=this['mixObject'](lu['theme'],{'question':{'window':{'width':'100%','height':'100%','minWidth':undefined,'backgroundOpacity':0x1,'borderRadius':0x0,'paddingLeft':0x0,'paddingRight':0x0,'paddingBottom':0x0,'paddingTop':0x0,'verticalAlign':'middle','title':{'paddingBottom':0x19,'paddingTop':0x19},'bodyContainer':{'layout':'vertical','horizontalAlign':'center','paddingLeft':0x0,'paddingRight':0x0,'gap':0x14},'mediaContainer':{'width':'100%','height':'45%'},'optionsContainer':{'width':'100%','height':'55%','paddingLeft':0x14,'paddingRight':0x14}}},'score':{'window':{'description':{'paddingLeft':0xa,'paddingRight':0xa},'calification':{'fontSize':0x14*ly,'paddingLeft':0xa,'paddingRight':0xa}}}});lu['theme']=lz;}var lA=document['getElementById']('metaViewport');var lB=lA?/initial-scale=(\d+(\.\d+)?)/['exec'](lA['getAttribute']('content')):undefined;var lC=lB?lB[0x1]:0x1;lt['scorePortraitConfig']={'theme':{'window':{'minWidth':0xfa/lC,'maxHeight':0x258/lC,'content':{'height':'100%'},'statsContainer':{'layout':'vertical','horizontalAlign':'center','maxHeight':0x258,'paddingLeft':0x0,'paddingRight':0x0,'width':'100%','height':'100%'},'buttonsContainer':{'paddingLeft':0xa,'paddingRight':0xa,'button':{'paddingLeft':0xf,'paddingRight':0xf}}}}};lt['scoreLandscapeConfig']={'theme':{'window':{'title':{'fontSize':0x1e*lx,'paddingTop':0xa},'stats':{'height':0x64},'buttonsContainer':{'paddingBottom':0x14,'paddingTop':0xa},'description':{'paddingBottom':0x5,'paddingTop':0x5}}}};var lD=new TDV['Quiz'](lu);lD['setMaxListeners'](0x32);if(lr===!![]){lD['bind'](TDV['Quiz']['EVENT_PROPERTIES_CHANGE'],function(){if((lD['get'](TDV['Quiz']['PROPERTY']['QUESTIONS_ANSWERED'])+lD['get'](TDV['Quiz']['PROPERTY']['ITEMS_FOUND']))/(lD['get'](TDV['Quiz']['PROPERTY']['QUESTION_COUNT'])+lD['get'](TDV['Quiz']['PROPERTY']['ITEM_COUNT']))==0x1)setTimeout(function(){lD['finish']();},0x0);}['bind'](this));}if(lq===!![]){lD['start']();}lt['quiz']=lD;lt['quizConfig']=lu;function lE(lG){for(var lH=0x0;lH<lG['length'];++lH){var lI=lG[lH];if('id'in lI)this[lI['id']]=lI;}}function lF(lJ){for(var lK in lJ){var lL=lJ[lK];if(typeof lL=='object'&&lL!==null)lF['call'](this,lL);else if(typeof lL=='string'&&lL['startsWith']('this.'))lJ[lK]=_getObject(this,lL);}}};TDV['Tour']['Script']['getQuizTotalObjectiveProperty']=function(lM){var lN=this['get']('data')['quiz'];var lO=this['get']('data')['quizConfig'];var lP=lO['objectives'];var lQ=0x0;for(var lR=0x0,lS=lP['length'];lR<lS;++lR){var lT=lP[lR];lQ+=lN['getObjective'](lT['id'],lM);}return lQ;};TDV['Tour']['Script']['_initSplitViewer']=function(lU){function lV(){var mi=lU['get']('actualWidth');m7['get']('children')[0x0]['set']('width',mi);m8['get']('children')[0x0]['set']('width',mi);var mj=mb['get']('left');var mk=typeof mj=='string'?lW(mj):mj;mk+=mb['get']('actualWidth')*0.5;m7['set']('width',lX(mk));m8['set']('width',lX(mi-mk));}function lW(ml){return parseFloat(ml['replace']('%',''))/0x64*lU['get']('actualWidth');}function lX(mm){return mm/lU['get']('actualWidth')*0x64+'%';}function lY(mn){lZ(mn['source']);}function lZ(mo){var mp=mo==md?mc:md;if(me&&mo!=me||!mo||!mp)return;var mq=mo['get']('class');var mr=mp['get']('class');if(mq=='PanoramaPlayer'&&mr=='PanoramaPlayer'){var ms=mp['get']('camera')['get']('initialPosition')['get']('yaw')-mo['get']('camera')['get']('initialPosition')['get']('yaw');mp['setPosition'](mo['get']('yaw')+ms,mo['get']('pitch'),mo['get']('roll'),mo['get']('hfov'));}else if(mq=='Model3DPlayer'&&mr=='Model3DPlayer'){var mt=mo['get']('model')['get']('camera');var mu=mp['get']('model')['get']('camera');var mv=['yaw','pitch','x','y','z','fov'];if(mt['get']('class')=='OrbitModel3DCamera'&&mu['get']('class')=='OrbitModel3DCamera')mv['push']('distance');mv['forEach'](mw=>{mu['set'](mw,mt['get'](mw));});}}function m0(mx){me=mx['source'];}function m1(my){m4['call'](this,my['source']);}function m2(mz){var mA=mz['get']('viewerArea');if(mA==m9){if(mc&&mc['get']('class')=='PanoramaPlayer'){mc['get']('camera')['set']('hoverFactor',mf);}mc=mz;me=mc;if(mc&&mc['get']('class')=='PanoramaPlayer'){mf=mc['get']('camera')['get']('hoverFactor');mc['get']('camera')['set']('hoverFactor',0x0);}}else if(mA==ma){if(md&&md['get']('class')=='PanoramaPlayer'){md['get']('camera')['set']('hoverFactor',mg);}md=mz;me=md;if(md&&md['get']('class')=='PanoramaPlayer'){mg=md['get']('camera')['get']('hoverFactor');md['get']('camera')['set']('hoverFactor',0x0);}}lZ(mz);}function m3(mB){var mC=this['getCurrentPlayers']();var mD=mC['length'];while(mD-->0x0){var mF=mC[mD];if(mF['get']('viewerArea')!=mB){mC['splice'](mD,0x1);}}for(mD=0x0;mD<mC['length'];++mD){var mF=mC[mD];mF['bind']('preloadMediaShow',m1,this);if(mF['get']('class')=='PanoramaPlayer'){mF['bind']('cameraPositionChange',lY,this);mF['bind']('userInteractionStart',m0,this);}m4['call'](this,mF);}return mC;}function m4(mG){var mH=mh['find'](mJ=>{return mJ['player']==mG;});if(mH){if(mH['media']['get']('class')=='Model3D'){mH['media']['get']('camera')['unbind']('positionSet',mH['updateFn'],this);}mh['splice'](mh['indexOf'](mH),0x1);}var mI=this['getMediaFromPlayer'](mG);if(!mI)return;mH={'media':mI,'player':mG,'updateFn':()=>{lZ(mG);}};mh['push'](mH);if(mH['media']['get']('class')=='Model3D'){mH['media']['get']('camera')['bind']('positionSet',mH['updateFn'],this);}m2(mG);}function m5(mK){m2(this['getActivePlayerWithViewer'](mK['source']));lZ(me);}var m6=lU['get']('children');var m7=m6[0x0];var m8=m6[0x1];var m9=m7['get']('children')[0x0];var ma=m8['get']('children')[0x0];var mb=m6[0x2];var mc,md,me;var mf,mg;var mh=[];m3['call'](this,m9);m3['call'](this,ma);this['bind']('instanceCreation',mL=>{var mM=mL['data']['instance'];if(mM['get']('class')=='PanoramaPlayer'){var mN=mM;mN['bind']('preloadMediaShow',m1,this);if(mN['get']('class')=='PanoramaPlayer'){mN['bind']('cameraPositionChange',lY,this);mN['bind']('userInteractionStart',m0,this);}m4['call'](this,mN);}},this);m9['bind']('mouseDown',m5,this);ma['bind']('mouseDown',m5,this);lU['bind']('resize',function(){mb['set']('left',(lU['get']('actualWidth')-mb['get']('actualWidth'))*0.5);lV();},this);mb['bind']('mouseDown',function(mO){var mP=mO['pageX'];var mQ=function(mR){var mS=mR['pageX'];var mT=mP-mS;var mU=lU['get']('actualWidth');var mV=mb['get']('left');var mW=(typeof mV=='string'?lW(mV):mV)-mT;if(mW<0x0){mS-=mW;mW=0x0;}else if(mW+mb['get']('actualWidth')>=mU){mS-=mW-(mU-mb['get']('actualWidth'));mW=mU-mb['get']('actualWidth');}mb['set']('left',mW);lV();mP=mS;};this['bind']('mouseMove',mQ,this);this['bind']('mouseUp',function(){this['unbind']('mouseMove',mQ,this);},this);},this);lV();};TDV['Tour']['Script']['_initTwinsViewer']=function(mX){function mY(){var nm=mX['get']('actualWidth');nb['get']('children')[0x0]['set']('width',nm);nc['get']('children')[0x0]['set']('width',nm);var nn=nf['get']('left');var no=typeof nn=='string'?mZ(nn):nn;no+=nf['get']('actualWidth')*0.5;nb['set']('width',n0(no));nc['set']('width',n0(nm-no));}function mZ(np){return parseFloat(np['replace']('%',''))/0x64*mX['get']('actualWidth');}function n0(nq){return nq/mX['get']('actualWidth')*0x64+'%';}function n1(nr){n2(nr['source']);}function n2(ns){var nt=ns==nh?ng:nh;if(ni&&ns!=ni||!ns||!nt)return;var nu=ns['get']('class');var nv=nt['get']('class');if(nu=='PanoramaPlayer'&&nv=='PanoramaPlayer'){var nw=nt['get']('camera')['get']('initialPosition')['get']('yaw')-ns['get']('camera')['get']('initialPosition')['get']('yaw');nt['setPosition'](ns['get']('yaw')+nw,ns['get']('pitch'),ns['get']('roll'),ns['get']('hfov'));}else if(nu=='Model3DPlayer'&&nv=='Model3DPlayer'){var nx=ns['get']('model')['get']('camera');var ny=nt['get']('model')['get']('camera');var nz=['yaw','pitch','x','y','z','fov'];if(nx['get']('class')=='OrbitModel3DCamera'&&ny['get']('class')=='OrbitModel3DCamera')nz['push']('distance');nz['forEach'](nA=>{ny['set'](nA,nx['get'](nA));});}}function n3(nB){ni=nB['source'];}function n4(nC){ni=ng;}function n5(nD){n8['call'](this,nD['source']);}function n6(nE){var nF=nE['get']('viewerArea');if(nF==nd){if(ng&&ng['get']('class')=='PanoramaPlayer'){ng['get']('camera')['set']('hoverFactor',nj);}ng=nE;ni=ng;if(ng&&ng['get']('class')=='PanoramaPlayer'){nj=ng['get']('camera')['get']('hoverFactor');ng['get']('camera')['set']('hoverFactor',0x0);}}else if(nF==ne){if(nh&&nh['get']('class')=='PanoramaPlayer'){nh['get']('camera')['set']('hoverFactor',nk);}nh=nE;ni=nh;if(nh&&nh['get']('class')=='PanoramaPlayer'){nk=nh['get']('camera')['get']('hoverFactor');nh['get']('camera')['set']('hoverFactor',0x0);}}n2(nE);}function n7(nG){var nH=this['getCurrentPlayers']();var nI=nH['length'];while(nI-->0x0){var nK=nH[nI];if(nK['get']('viewerArea')!=nG){nH['splice'](nI,0x1);}}for(nI=0x0;nI<nH['length'];++nI){var nK=nH[nI];nK['bind']('preloadMediaShow',n5,this);if(nK['get']('class')=='PanoramaPlayer'){nK['bind']('cameraPositionChange',n1,this);nK['bind']('userInteractionStart',n3,this);nK['bind']('userInteractionEnd',n4,this);}n8['call'](this,nK);}return nH;}function n8(nL){var nM=nl['find'](nO=>{return nO['player']==nL;});if(nM){if(nM['media']['get']('class')=='Model3D'){nM['media']['get']('camera')['unbind']('positionSet',nM['updateFn'],this);}nl['splice'](nl['indexOf'](nM),0x1);}var nN=this['getMediaFromPlayer'](nL);if(!nN)return;nM={'media':nN,'player':nL,'updateFn':()=>{n2(nL);}};nl['push'](nM);if(nM['media']['get']('class')=='Model3D'){nM['media']['get']('camera')['bind']('positionSet',nM['updateFn'],this);}n6(nL);}function n9(nP){n6(this['getActivePlayerWithViewer'](nP['source']));n2(ni);}var na=mX['get']('children');var nb=na[0x0];var nc=na[0x1];var nd=nb['get']('children')[0x0];var ne=nc['get']('children')[0x0];var nf=na[0x2];var ng,nh,ni;var nj,nk;var nl=[];n7['call'](this,nd);n7['call'](this,ne);this['bind']('instanceCreation',nQ=>{var nR=nQ['data']['instance'];if(nR['get']('class')=='PanoramaPlayer'){var nS=nR;nS['bind']('preloadMediaShow',n5,this);if(nS['get']('class')=='PanoramaPlayer'){nS['bind']('cameraPositionChange',n1,this);nS['bind']('userInteractionStart',n3,this);}n8['call'](this,nS);}},this);nd['bind']('mouseDown',n9,this);ne['bind']('mouseDown',n9,this);mX['bind']('resize',function(){nf['set']('left',(mX['get']('actualWidth')-nf['get']('actualWidth'))*0.5);mY();},this);mY();};TDV['Tour']['Script']['isCardboardViewMode']=function(){var nT=this['getByClassName']('PanoramaPlayer');return nT['length']>0x0&&nT[0x0]['get']('viewMode')=='cardboard';};TDV['Tour']['Script']['isPanorama']=function(nU){return['Panorama','HDRPanorama','LivePanorama','Video360','VideoPanorama']['indexOf'](nU['get']('class'))!=-0x1;};TDV['Tour']['Script']['keepCompVisible']=function(nV,nW){var nX='keepVisibility_'+nV['get']('id');var nY=this['getKey'](nX);if(nY==undefined&&nW){this['registerKey'](nX,nW);}else if(nY!=undefined&&!nW){this['unregisterKey'](nX);}};TDV['Tour']['Script']['_initItemWithComps']=function(nZ,o0,o1,o2,o3,o4,o5,o6){var o7=nZ['get']('items')[o0];var o8=o7['get']('media');var o9=o8['get']('loop')==undefined||o8['get']('loop');var oa=o6>0x0;var ob=this['rootPlayer'];var oc=function(ok){var ol=o4?o4['get']('class'):undefined;var om=undefined;switch(ol){case'FadeInEffect':case'FadeOutEffect':om=ob['createInstance'](ok?'FadeInEffect':'FadeOutEffect');break;case'SlideInEffect':case'SlideOutEffect':om=ob['createInstance'](ok?'SlideInEffect':'SlideOutEffect');break;}if(om){om['set']('duration',o4['get']('duration'));om['set']('easing',o4['get']('easing'));if(ol['indexOf']('Slide')!=-0x1)om['set'](ok?'from':'to',o4['get'](o4['get']('class')=='SlideInEffect'?'from':'to'));}return om;};var od=function(){for(var on=0x0,oo=o1['length'];on<oo;++on){var op=o1[on];if(o6>0x0){this['setComponentVisibility'](op,!o3,0x0,oc(!o3));}else{var oq='visibility_'+op['get']('id');if(this['existsKey'](oq)){if(this['getKey'](oq))this['setComponentVisibility'](op,!![],0x0,oc(!![]));else this['setComponentVisibility'](op,![],0x0,oc(![]));this['unregisterKey'](oq);}}}o7['unbind']('end',od,this);if(!o9)o8['unbind']('end',od,this);};var oe=function(){o7['unbind']('stop',oe,this,!![]);o7['unbind']('stop',oe,this);o7['unbind']('begin',oe,this,!![]);o7['unbind']('begin',oe,this);for(var or=0x0,os=o1['length'];or<os;++or){this['keepCompVisible'](o1[or],![]);}};var of=function(ot,ou,ov){var ow=function(){var ox=function(oB,oC,oD){ob['setComponentVisibility'](oB,oC,ou,oD,oC?'showEffect':'hideEffect',![]);if(ov>0x0){var oE=ou+ov+(oD!=undefined?oD['get']('duration'):0x0);ob['setComponentVisibility'](oB,!oC,oE,oc(!oC),oC?'hideEffect':'showEffect',!![]);}};for(var oy=0x0,oz=o1['length'];oy<oz;++oy){var oA=o1[oy];if(o3=='toggle'){if(!oA['get']('visible'))ox(oA,!![],oc(!![]));else ox(oA,![],oc(![]));}else{ox(oA,o3,oc(o3));}}o7['unbind'](ot,ow,this);if(ot=='end'&&!o9)o8['unbind'](ot,ow,this);};o7['bind'](ot,ow,this);if(ot=='end'&&!o9)o8['bind'](ot,ow,this);};if(o2=='begin'){for(var og=0x0,oh=o1['length'];og<oh;++og){var oi=o1[og];this['keepCompVisible'](oi,!![]);if(oa){var oj='visibility_'+oi['get']('id');this['registerKey'](oj,oi['get']('visible'));}}o7['bind']('stop',oe,this,!![]);o7['bind']('stop',oe,this);o7['bind']('begin',oe,this,!![]);o7['bind']('begin',oe,this);if(oa){o7['bind']('end',od,this);if(!o9)o8['bind']('end',od,this);}}else if(o2=='end'&&o6>0x0){of('begin',o6,0x0);o6=0x0;}if(o2!=undefined)of(o2,o5,o6);};TDV['Tour']['Script']['loadFromCurrentMediaPlayList']=function(oF,oG,oH){var oI=oF['get']('selectedIndex');var oJ=oF['get']('items')['length'];var oK=(oI+oG)%oJ;while(oK<0x0){oK=oJ+oK;}if(oI!=oK){if(oH){var oL=oF['get']('items')[oK];this['skip3DTransitionOnce'](oL['get']('player'));}oF['set']('selectedIndex',oK);}};TDV['Tour']['Script']['mixObject']=function(oM,oN){return this['assignObjRecursively'](oN,this['copyObjRecursively'](oM));};TDV['Tour']['Script']['downloadFile']=function(oO){if((navigator['userAgent']['toLowerCase']()['indexOf']('chrome')>-0x1||navigator['userAgent']['toLowerCase']()['indexOf']('safari')>-0x1)&&!/(iP)/g['test'](navigator['userAgent'])){var oP=document['createElement']('a');oP['href']=oO;oP['setAttribute']('target','_blank');if(oP['download']!==undefined){var oQ=oO['substring'](oO['lastIndexOf']('/')+0x1,oO['length']);oP['download']=oQ;}if(document['createEvent']){var oR=document['createEvent']('MouseEvents');oR['initEvent']('click',!![],!![]);oP['dispatchEvent'](oR);return;}}window['open'](oO,'_blank');};TDV['Tour']['Script']['openLink']=function(oS,oT){if(!oS||oS==location['href']){return;}if(!oT)oT='_blank';if(oT=='_top'||oT=='_self'){this['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}var oU=window&&window['process']&&window['process']['versions']&&window['process']['versions']['electron']||navigator&&navigator['userAgent']&&navigator['userAgent']['indexOf']('Electron')>=0x0;if(oU&&oT=='_blank'){if(oS['startsWith']('files/')){oS='/'+oS;}if(oS['startsWith']('//')){oS='https:'+oS;}else if(oS['startsWith']('/')){var oV=window['location']['href']['split']('/');oV['pop']();oS=oV['join']('/')+oS;}var oW=oS['split']('.')['pop']()['toLowerCase']();if((['pdf','zip','xls','xlsx']['indexOf'](oW)==-0x1||oS['startsWith']('file://'))&&window['hasOwnProperty']('require')){var oX=window['require']('electron')['shell'];oX['openExternal'](oS);}else{window['open'](oS,oT);}}else if(oU&&(oT=='_top'||oT=='_self')){window['location']=oS;}else{var oY=this['get']('data')['tour'];if(oY['isMobileApp']()&&oY['isIOS']())oS='blank:'+oS;var oZ=window['open'](oS,oT);oZ['focus']();}};TDV['Tour']['Script']['startPanoramaWithModel']=function(p0,p1){var p2=p0['get']('media');var p3=_findLocationWithPanorama['call'](this,p2);if(!p3){p1['call'](this);return;}var p4=p3['get']('model');var p5=p0['get']('player')['get']('viewerArea');var p7=this['getActivePlayersWithViewer'](p5);var p9=p7['length']==0x1?p7['find'](function(pg){return this['getMediaFromPlayer'](pg)==p4;}['bind'](this)):undefined;if(p9){p1['call'](this);}else{var p7=_getPlayersWithViewer['call'](this,p5);var p9=p7['find'](function(ph){return ph['get']('class')=='Model3DPlayer';});var pa,pb;if(!p9){p9=this['createInstance']('Model3DPlayer');p9['set']('viewerArea',p5);}else{var pc=this['getByClassName']('Model3DPlayListItem');pa=pc['find'](function(pi){return pi['get']('player')==p9;}['bind'](this));}if(!pa){pa=this['createInstance']('Model3DPlayListItem');pa['set']('player',p9);_initModel3DItem['call'](this,pa);}pa['set']('media',p4);var pd=p3['get']('forceModelLoading');p3['set']('forceModelLoading',!![]);var pe=function(){pa['unbind']('begin',pe,this);p1['call'](this);};var pf=function(){p0['unbind']('begin',pf,this);p3['set']('forceModelLoading',pd);if(pb)this['disposeInstance'](pb);};p0['bind']('begin',pf,this);if(pa['get']('state')=='playing')pe['call'](this);else{pa['bind']('begin',pe,this);pb=this['createInstance']('PlayList');pb['set']('items',[pa]);pb['set']('selectedIndex',0x0);}}};TDV['Tour']['Script']['pauseCurrentPlayers']=function(pj){var pk=this['getCurrentPlayers']();var pl=pk['length'];while(pl-->0x0){var pm=pk[pl];if(pm['get']('state')=='playing'||pm['get']('data')&&pm['get']('data')['playing']||pm['get']('viewerArea')&&pm['get']('viewerArea')['get']('id')==this['getMainViewer']()||pm['get']('camera')&&pm['get']('camera')['get']('idleSequence')&&pm['get']('camera')['get']('timeToIdle')>0x0&&pm['get']('state')=='playing'||pm['get']('class')=='Model3DPlayer'&&pm['get']('model')&&pm['get']('model')['get']('camera')['get']('state')=='playing'){var pn=this['getMediaFromPlayer'](pm);if(pj&&pn&&pn['get']('class')!='Video360'&&'pauseCamera'in pm){pm['pauseCamera']();}else{pm['pause']();}}else{pk['splice'](pl,0x1);}}return pk;};TDV['Tour']['Script']['pauseGlobalAudiosWhilePlayItem']=function(po,pp,pq){var pr=function(){if(po['get']('selectedIndex')!=pp){this['resumeGlobalAudios']();}};this['pauseGlobalAudios'](pq,!![]);this['executeFunctionWhenChange'](po,pp,pr,pr);};TDV['Tour']['Script']['pauseGlobalAudios']=function(ps,pt){this['stopTextToSpeech']();if(window['pausedAudiosLIFO']==undefined)window['pausedAudiosLIFO']=[];var pu=this['getByClassName']('VideoPanoramaOverlay');pu=pu['concat'](this['getByClassName']('QuadVideoPanoramaOverlay'));for(var pw=pu['length']-0x1;pw>=0x0;--pw){var px=pu[pw];if(px['get']('video')['get']('hasAudio')==![])pu['splice'](pw,0x1);}var py=this['getByClassName']('Audio')['concat'](pu);var pz={};if(window['currentGlobalAudios']!=undefined)py=py['concat'](Object['values'](window['currentGlobalAudios'])['map'](function(pD){if(!pD['allowResume'])pz[pD['audio']['get']('id')]=pD['audio'];return pD['audio'];}));var pA=[];for(var pw=0x0,pB=py['length'];pw<pB;++pw){var pC=py[pw];if(pC&&pC['get']('state')=='playing'&&(ps==undefined||ps['indexOf'](pC)==-0x1)){if(pC['get']('id')in pz){pC['stop']();}else{pC['pause']();pA['push'](pC);}}}if(pt||pA['length']>0x0)window['pausedAudiosLIFO']['push'](pA);return pA;};TDV['Tour']['Script']['resumeGlobalAudios']=function(){if(window['pausedAudiosLIFO']==undefined)return;if(window['resumeAudiosBlocked']){if(window['pausedAudiosLIFO']['length']>0x1){window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]=window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]['concat'](window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x1]);window['pausedAudiosLIFO']['splice'](window['pausedAudiosLIFO']['length']-0x1,0x1);}return;}var pE=window['pausedAudiosLIFO']['pop']();if(!pE)return;for(var pF=0x0,pG=pE['length'];pF<pG;++pF){var pH=pE[pF];if(pH['get']('state')=='paused')pH['play']();}};TDV['Tour']['Script']['pauseGlobalAudio']=function(pI){var pJ=window['currentGlobalAudios'];if(pJ){var pK=pJ[pI['get']('id')];if(pK)pI=pK['audio'];}if(pI['get']('state')=='playing')pI['pause']();};TDV['Tour']['Script']['playAudioList']=function(pL,pM){if(pL['length']==0x0)return;if(pL['length']==0x1&&pM){var pN=pL[0x0];pN['set']('loop',!![]);this['playGlobalAudio'](pN,!![],null,!![]);}else{var pO=-0x1;var pP;var pQ=this['playGlobalAudio'];var pR=function(){if(++pO>=pL['length']){if(!pM)return;pO=0x0;}pP=pL[pO];pQ(pP,!![],pR,!![]);};pR();}};TDV['Tour']['Script']['playGlobalAudioWhilePlayActiveMedia']=function(pS,pT,pU,pV){var pW=this['getActiveMediaWithViewer'](this['getMainViewer']());var pX=this['getFirstPlayListWithMedia'](pW,!![]);var pY=this['getPlayListItemByMedia'](pX,pW);var pZ=pX['get']('items')['indexOf'](pY);return this['playGlobalAudioWhilePlay'](pX,pZ,pS,pT,pU,pV);};TDV['Tour']['Script']['playGlobalAudioWhilePlay']=function(q0,q1,q2,q3,q4,q5){var q6=function(qf){if(qf['data']['previousSelectedIndex']==q1){this['stopGlobalAudio'](q2);if(qa){var qg=q9['get']('media');var qh=qg['get']('audios');qh['splice'](qh['indexOf'](q2),0x1);qg['set']('audios',qh);}q0['unbind']('change',q6,this);if(q4)q4();}};var q8=window['currentGlobalAudios'];if(q8&&q2['get']('id')in q8){q2=q8[q2['get']('id')]['audio'];if(q2['get']('state')!='playing'){q2['play']();}return q2;}q0['bind']('change',q6,this);var q9=q0['get']('items')[q1];var qa=q9['get']('class')=='PanoramaPlayListItem';if(qa){var qb=q9['get']('media');var q8=(qb['get']('audios')||[])['slice']();if(q2['get']('class')=='MediaAudio'){var qc=this['rootPlayer']['createInstance']('PanoramaAudio');qc['set']('autoplay',![]);qc['set']('audio',q2['get']('audio'));qc['set']('loop',q2['get']('loop'));qc['set']('id',q2['get']('id'));this['cloneBindings'](q2,qc,'start');this['cloneBindings'](q2,qc,'end');this['cloneBindings'](q2,qc,'stateChange');q2=qc;}q8['push'](q2);qb['set']('audios',q8);}var qd=this['playGlobalAudio'](q2,q3,function(){q0['unbind']('change',q6,this);if(q4)q4['call'](this);});if(q5===!![]){var qe=function(){if(qd['get']('state')=='playing'){this['pauseGlobalAudios']([qd],!![]);}else if(qd['get']('state')=='stopped'){this['resumeGlobalAudios']();qd['unbind']('stateChange',qe,this);}};qd['bind']('stateChange',qe,this);}return qd;};TDV['Tour']['Script']['playGlobalAudio']=function(qi,qj,qk,ql){var qm=function(){qi['unbind']('end',qm,this);this['stopGlobalAudio'](qi);if(qk)qk['call'](this);};qi=this['getGlobalAudio'](qi);var qn=window['currentGlobalAudios'];if(!qn){qn=window['currentGlobalAudios']={};}qn[qi['get']('id')]={'audio':qi,'asBackground':ql||![],'allowResume':qj};if(qi['get']('state')=='playing'){return qi;}if(!qi['get']('loop')){qi['bind']('end',qm,this);}qi['play']();return qi;};TDV['Tour']['Script']['restartTourWithoutInteraction']=function(qo){var qp=-0x1;this['bind']('userInteraction',qq['bind'](this),this);qq();function qq(){if(qp!=-0x1)clearTimeout(qp);qp=setTimeout(function(){var qr=this['get']('data')['tour'];if(qr){if(this['isCardboardViewMode']())location['reload']();else qr['reload']();}}['bind'](this),qo*0x3e8);}};TDV['Tour']['Script']['resumePlayers']=function(qs,qt){for(var qu=0x0;qu<qs['length'];++qu){var qv=qs[qu];var qw=this['getMediaFromPlayer'](qv);if(!qw)continue;if(qt&&qw['get']('class')!='Video360'&&'pauseCamera'in qv){qv['resumeCamera']();}else if(qv['get']('state')!='playing'){var qx=qv['get']('data');if(!qx){qx={};qv['set']('data',qx);}qx['playing']=!![];var qy=function(){if(qv['get']('state')=='playing'){delete qx['playing'];qv['unbind']('stateChange',qy,this);}};qv['bind']('stateChange',qy,this);qv['play']();}}};TDV['Tour']['Script']['stopGlobalAudios']=function(qz){var qA=window['currentGlobalAudios'];var qB=this;if(qA){Object['keys'](qA)['forEach'](function(qC){var qD=qA[qC];if(!qz||qz&&!qD['asBackground']){qB['stopGlobalAudio'](qD['audio']);}});}};TDV['Tour']['Script']['stopGlobalAudio']=function(qE){var qF=window['currentGlobalAudios'];if(qF){var qG=qF[qE['get']('id')];if(qG){qE=qG['audio'];delete qF[qE['get']('id')];if(Object['keys'](qF)['length']==0x0){window['currentGlobalAudios']=undefined;}}}if(qE)qE['stop']();};TDV['Tour']['Script']['setCameraSameSpotAsMedia']=function(qH,qI){var qJ=this['getCurrentPlayerWithMedia'](qI);if(qJ!=undefined){var qK=qH['get']('initialPosition');qK['set']('yaw',qJ['get']('yaw'));qK['set']('pitch',qJ['get']('pitch'));qK['set']('hfov',qJ['get']('hfov'));}};TDV['Tour']['Script']['setComponentVisibility']=function(qL,qM,qN,qO,qP,qQ){var qR=this['getKey']('keepVisibility_'+qL['get']('id'));if(qR)return;this['unregisterKey']('visibility_'+qL['get']('id'));var qS=function(){if(qP){qL['set'](qP,qO);}qL['set']('visible',qM);if(qL['get']('class')=='ViewerArea'){try{if(qM)qL['restart']();else if(qL['get']('playbackState')=='playing')qL['pause']();}catch(qX){};}};var qT='effectTimeout_'+qL['get']('id');if(!qQ&&window['hasOwnProperty'](qT)){var qV=window[qT];if(qV instanceof Array){for(var qW=0x0;qW<qV['length'];qW++){clearTimeout(qV[qW]);}}else{clearTimeout(qV);}delete window[qT];}else if(qM==qL['get']('visible')&&!qQ)return;if(qN&&qN>0x0){var qV=setTimeout(function(){if(window[qT]instanceof Array){var qY=window[qT];var qZ=qY['indexOf'](qV);qY['splice'](qZ,0x1);if(qY['length']==0x0){delete window[qT];}}else{delete window[qT];}qS();},qN);if(window['hasOwnProperty'](qT)){window[qT]=[window[qT],qV];}else{window[qT]=qV;}}else{qS();}};TDV['Tour']['Script']['setDirectionalPanoramaAudio']=function(r0,r1,r2,r3){r0['set']('yaw',r1);r0['set']('pitch',r2);r0['set']('maximumAngle',r3);};TDV['Tour']['Script']['setLocale']=function(r4){this['stopTextToSpeech']();var r5=this['get']('data')['localeManager'];if(r5)this['get']('data')['localeManager']['setLocale'](r4);else{this['get']('data')['defaultLocale']=r4;this['get']('data')['forceDefaultLocale']=!![];}};TDV['Tour']['Script']['setEndToItemIndex']=function(r6,r7,r8){var r9=function(){if(r6['get']('selectedIndex')==r7){var ra=r6['get']('items')[r8];this['skip3DTransitionOnce'](ra['get']('player'));r6['set']('selectedIndex',r8);}};this['executeFunctionWhenChange'](r6,r7,r9);};TDV['Tour']['Script']['setMapLocation']=function(rb,rc){var rd=function(){rb['unbind']('stop',rd,this);re['set']('mapPlayer',null);};rb['bind']('stop',rd,this);var re=rb['get']('player');re['set']('mapPlayer',rc);};TDV['Tour']['Script']['setMainMediaByIndex']=function(rf){var rg=undefined;if(rf>=0x0&&rf<this['mainPlayList']['get']('items')['length']){rg=this['mainPlayList']['get']('items')[rf];var rh=rg['get']('media');var ri=rh['get']('class')['indexOf']('Panorama')!=-0x1?_findLocationWithPanorama['call'](this,rh):null;if(ri){this['startPanoramaWithModel']['call'](this,rg,function(){this['mainPlayList']['set']('selectedIndex',rf);}['bind'](this));}else{this['mainPlayList']['set']('selectedIndex',rf);}}return rg;};TDV['Tour']['Script']['setMainMediaByName']=function(rj){var rk=this['getMainViewer']();var rl=this['_getPlayListsWithViewer'](rk);for(var rm=0x0,rn=rl['length'];rm<rn;++rm){var ro=rl[rm];var rp=ro['get']('items');for(var rq=0x0,rr=rp['length'];rq<rr;++rq){var rs=rp[rq];var rt=rs['get']('media')['get']('data');if(rt!==undefined&&rt['label']==rj&&rs['get']('player')['get']('viewerArea')==rk){ro['set']('selectedIndex',rq);return rs;}}}};TDV['Tour']['Script']['executeAudioAction']=function(ru,rv,rw,rx,ry,rz){if(ru['length']==0x0)return;var rA,rB;var rC=this['getMainViewer']();if(rw&&!(rw===!![])){var rD=this['getPlayListsWithMedia'](rw);for(var rE=0x0;rE<rD['length'];++rE){var rF=rD[rE];var rH=this['getPlayListItemByMedia'](rF,rw);if(rH&&rH['get']('player')&&rH['get']('player')['get']('viewerArea')==rC){rA=rF;rB=rA['get']('items')['indexOf'](rH);break;}}if(!rA&&rD['length']>0x0){rA=rD[0x0];rB=this['getPlayListItemIndexByMedia'](rA,rw);}if(!rA)rw=!![];}if(rw===!![]){var rI=this['getActiveMediaWithViewer'](rC);if(rI){rA=this['getFirstPlayListWithMedia'](rI,!![]);var rH=this['getPlayListItemByMedia'](rA,rI);rB=rA['get']('items')['indexOf'](rH);}else{rw=null;}}var rJ=[];var rK=function(){var rS=rJ['concat']();var rT=![];var rU=function(rX){var rY=rX['source']['get']('state');if(rY=='playing'){if(!rT){rT=!![];this['pauseGlobalAudios'](rJ,!![]);}}else if(rY=='stopped'){rS['splice'](rS['indexOf'](rX['source']),0x1);if(rS['length']==0x0){this['resumeGlobalAudios']();}rX['source']['unbind']('stateChange',rU,this);}}['bind'](this);for(var rV=0x0,rW=rJ['length'];rV<rW;++rV){rJ[rV]['bind']('stateChange',rU,this);}}['bind'](this);var rL=function(){for(var rZ=0x0,s0=ru['length'];rZ<s0;++rZ){var s1=ru[rZ];rJ['push'](this['playGlobalAudio'](s1,rx));}if(ry)rK();}['bind'](this);var rM=function(){for(var s2=0x0,s3=ru['length'];s2<s3;++s2){var s4=ru[s2];rJ['push'](this['playGlobalAudioWhilePlay'](rA,rB,s4,rx));}if(ry)rK();}['bind'](this);var rN=function(){for(var s5=0x0,s6=ru['length'];s5<s6;++s5){this['pauseGlobalAudio'](ru[s5]);}}['bind'](this);var rO=function(){for(var s7=0x0,s8=ru['length'];s7<s8;++s7){this['stopGlobalAudio'](ru[s7]);}}['bind'](this);var rP=function(){for(var s9=0x0,sa=ru['length'];s9<sa;++s9){if(this['getGlobalAudio'](ru[s9])['get']('state')=='playing')return!![];}return![];}['bind'](this);if(rv=='playPause'||rv=='playStop'){if(rP()){if(rv=='playPause'){rN();}else if(rv=='playStop'){rO();}}else{if(ry){if(rv=='playStop'){this['stopGlobalAudios'](!![]);}}if(rA){rM();}else{rL();}}}else if(rv=='play'||rv=='forcePlay'){if(rv=='forcePlay')rO();if(rA||rw===!![]){if(rz){var rQ=rA?rA['get']('items')[rB]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(rQ&&rQ['pauseCamera']){var rR=ru['concat']();endCallback=function(sb){rR['splice'](rR['indexOf'](sb),0x1);if(rR['length']==0x0)rQ['resumeCamera']();}['bind'](this);rQ['pauseCamera']();}}rM();}else{rL();}}else if(rv=='stop'){rO();}else if(rv=='pause'){rN();}};TDV['Tour']['Script']['executeAudioActionByTags']=function(sc,sd,se,sf,sg,sh,si){var sj=this['getAudioByTags'](sc,sd);this['executeAudioAction'](sj,se,sf,sg,sh,si);};TDV['Tour']['Script']['setPlayListSelectedIndex']=function(sk,sl){var sm=sk['get']('items')[sl];var sn=sm['get']('player');var so=sn['get']('viewerArea');var sp=this['getByClassName']('PlayList');for(var sq of sp){if(sq==sk)continue;var sr=sq['get']('selectedIndex');if(sr!=-0x1){var ss=sq['get']('items')[sr];var st=ss['get']('player');if(st&&st!=sn&&st['get']('class')!='Model3DPlayer'&&st['get']('viewerArea')==so)sq['set']('selectedIndex',-0x1);}}sk['set']('selectedIndex',sl);};TDV['Tour']['Script']['setMediaBehaviour']=function(su,sv,sw,sx){var sy=this;var sz=function(sW){if(sW['data']['state']=='stopped'&&sx){sD['call'](this,!![]);}};var sA=function(){sJ['unbind']('begin',sA,sy);var sX=sJ['get']('media');var sY=sX['get']('class');if(sY!='Panorama'&&sY!='Model3D'||sX['get']('camera')!=undefined&&sX['get']('camera')['get']('initialSequence')!=undefined){sK['bind']('stateChange',sz,sy);}};var sB=function(){var sZ=sG['get']('selectedIndex');if(sZ!=-0x1){sI=sZ;sD['call'](this,![]);}};var sC=function(){sD['call'](this,![]);};var sD=function(t0){if(!sG)return;var t1=sJ['get']('media');if((t1['get']('class')=='Video360'||t1['get']('class')=='Video')&&t1['get']('loop')==!![]&&!t0)return;su['set']('selectedIndex',-0x1);if(sR&&sQ!=-0x1){if(sR){if(sQ>0x0&&sR['get']('movements')[sQ-0x1]['get']('class')=='TargetPanoramaCameraMovement'){var t2=sS['get']('initialPosition');var t3=t2['get']('yaw');var t4=t2['get']('pitch');var t5=t2['get']('hfov');var t6=sR['get']('movements')[sQ-0x1];var t7=t6['get']('targetYaw');var t8=t6['get']('targetPitch');var t9=t6['get']('targetHfov');if(t7!==undefined)t2['set']('yaw',t7);if(t8!==undefined)t2['set']('pitch',t8);if(t9!==undefined)t2['set']('hfov',t9);var ta=function(td){t2['set']('yaw',t3);t2['set']('pitch',t4);t2['set']('hfov',t5);sM['unbind']('end',ta,this);};sM['bind']('end',ta,this);}sR['set']('movementIndex',sQ);}}if(sK){sJ['unbind']('begin',sA,this);sK['unbind']('stateChange',sz,this);for(var tb=0x0;tb<sT['length'];++tb){sT[tb]['unbind']('click',sC,this);}}if(sP){var tc=this['getMediaFromPlayer'](sK);if((sG==this['mainPlayList']||sG['get']('items')['length']>0x1)&&(tc==undefined||tc==sJ['get']('media'))){sG['set']('selectedIndex',sI);}if(su!=sG)sG['unbind']('change',sB,this);}else{sN['set']('visible',sO);}sG=undefined;};if(!sw){var sE=su['get']('selectedIndex');var sF=sE!=-0x1?su['get']('items')[su['get']('selectedIndex')]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(sF){sw=this['getMediaFromPlayer'](sF);}}var sG=undefined;if(sw){var sH=this['getPlayListsWithMedia'](sw,!![]);if(sH['indexOf'](su)!=-0x1){sG=su;}else if(sH['indexOf'](this['mainPlayList'])!=-0x1){sG=this['mainPlayList'];}else if(sH['length']>0x0){sG=sH[0x0];}}if(!sG){su['set']('selectedIndex',sv);return;}var sI=sG['get']('selectedIndex');var sJ=su['get']('items')[sv];var sK=sJ['get']('player');var sL=this['getMediaFromPlayer'](sK);if(su['get']('selectedIndex')==sv&&sL==sJ['get']('media')||sI==-0x1){return;}if(su['get']('selectedIndex')==sv&&sL!=sJ['get']('media'))su['set']('selectedIndex',-0x1);var sM=sG['get']('items')[sI];var sN=sK['get']('viewerArea');var sO=sN['get']('visible');var sP=sN==sM['get']('player')['get']('viewerArea');if(sP){if(su!=sG){sG['set']('selectedIndex',-0x1);sG['bind']('change',sB,this);}}else{sN['set']('visible',!![]);}var sQ=-0x1;var sR=undefined;var sS=sM['get']('camera');if(sS){sR=sS['get']('initialSequence');if(sR){sQ=sR['get']('movementIndex');}}su['set']('selectedIndex',sv);var sT=[];var sU=function(te){var tf=sK['get'](te);if(tf==undefined)return;if(Array['isArray'](tf))sT=sT['concat'](tf);else sT['push'](tf);};sU('buttonStop');for(var sV=0x0;sV<sT['length'];++sV){sT[sV]['bind']('click',sC,this);}sJ['bind']('begin',sA,sy);this['executeFunctionWhenChange'](su,sv,sx?sC:undefined);};TDV['Tour']['Script']['setOverlayBehaviour']=function(tg,th,ti,tj){var tk=function(){switch(ti){case'triggerClick':this['triggerOverlay'](tg,'click');break;case'stop':case'play':case'pause':tg[ti]();break;case'togglePlayPause':case'togglePlayStop':if(tg['get']('state')=='playing')tg[ti=='togglePlayPause'?'pause':'stop']();else tg['play']();break;}if(tj){if(window['overlaysDispatched']==undefined)window['overlaysDispatched']={};var tp=tg['get']('id');window['overlaysDispatched'][tp]=!![];setTimeout(function(){delete window['overlaysDispatched'][tp];},0x3e8);}};if(tj&&window['overlaysDispatched']!=undefined&&tg['get']('id')in window['overlaysDispatched'])return;var tl=this['getFirstPlayListWithMedia'](th,!![]);if(tl!=undefined){var tm=this['getPlayListItemByMedia'](tl,th);var tn=tm['get']('player');if(tl['get']('items')['indexOf'](tm)!=tl['get']('selectedIndex')||this['isPanorama'](tm['get']('media'))&&tn['get']('rendererPanorama')!=tm['get']('media')){var to=function(tq){tm['unbind']('begin',to,this);tk['call'](this);};tm['bind']('begin',to,this);return;}}tk['call'](this);};TDV['Tour']['Script']['setOverlaysVisibility']=function(tr,ts,tt){var tu='overlayEffects';var tv=undefined;var tw=this['getKey'](tu);if(!tw){tw={};this['registerKey'](tu,tw);}for(var tx=0x0,ty=tr['length'];tx<ty;++tx){var tz=tr[tx];if(!tz)continue;if(tt&&tt>0x0){tw[tz['get']('id')]=setTimeout(tA['bind'](this,tz),tt);}else{tA['call'](this,tz);}}function tA(tB){var tC=tB['get']('id');var tD=tw[tC];if(tD){clearTimeout(tD);delete tD[tC];}var tE=tB['get']('class')=='PanoramaModel3DLocation'?tB['get']('data')['object']:tB;if(!tE)return;var tF=ts=='toggle'?!tE['get']('enabled'):ts;tE['set']('enabled',tF);if(tB['get']('class')=='PanoramaModel3DLocation')tB['get']('data')['enabled']=tF;var tH=tB['get']('data');if(tF&&tH&&'group'in tH){var tI=this['getOverlaysByGroupname'](tH['group']);for(var tJ=0x0,tK=tI['length'];tJ<tK;++tJ){var tM=tI[tJ];if(tM!=tB)tM['set']('enabled',!tF);}}if(!tv)tv=this['getByClassName']('AdjacentPanorama');for(var tN=0x0,tO=tv['length'];tN<tO;++tN){var tP=tv[tN];var tH=tP['get']('data');if(!tH)continue;var tM=this[tH['overlayID']];if(tM&&tM==tB){tP['set']('enabled',tM['get']('enabled'));}}}};TDV['Tour']['Script']['setOverlaysVisibilityByTags']=function(tQ,tR,tS,tT,tU){var tV=tS?this['getPanoramaOverlaysByTags'](tS,tQ,tT):this['getOverlaysByTags'](tQ,tT);this['setOverlaysVisibility'](tV,tR,tU);};TDV['Tour']['Script']['setComponentsVisibilityByTags']=function(tW,tX,tY,tZ,u0){var u1=this['getComponentsByTags'](tW,u0);for(var u2=0x0,u3=u1['length'];u2<u3;++u2){var u4=u1[u2];if(tX=='toggle')u4['get']('visible')?tZ(u4):tY(u4);else tX?tY(u4):tZ(u4);}};TDV['Tour']['Script']['setModel3DCameraSpot']=function(u5,u6,u7,u8,u9){var ua=u5['get']('selectedIndex');var ub=u5['get']('items');var uc=u6['get']('media');var ud=uc['get']('camera');if(ua>=0x0&&ub[ua]==u6&&uc['get']('isLoaded')){ud['set']('yaw',ud['get']('yaw')%0x168);var ue=u6['get']('player')['get']('viewerArea');var uf=this['getActiveMediaWithViewer'](ue);if(uf['get']('class')['indexOf']('Panorama')!=-0x1){if(u8!==undefined){u8*=0x3e8;var ug=ue['get']('modelToPanoramaTraslationDuration');var uh=ue['get']('panoramaToModelTraslationDuration');var ui=()=>{clearTimeout(uj);u5['unbind']('change',ui,this);ue['set']('modelToPanoramaTraslationDuration',ug);ue['set']('panoramaToModelTraslationDuration',uh);};var uj=setTimeout(ui,u8);u5['bind']('change',ui,this);ue['set']('modelToPanoramaTraslationDuration',u8);ue['set']('panoramaToModelTraslationDuration',u8);}ud['setStoredPosition'](u7);}else{if(ud['get']('state')=='playing')ud['stop']();this['createTween'](ud,u7,u8,u9)['play']();}}else{if(ud['get']('state')=='playing')ud['stop']();this['startModel3DWithCameraSpot'](u6,u7);}};TDV['Tour']['Script']['setModel3DCameraSequence']=function(uk,ul,um){var un=uk['get']('selectedIndex');var uo=uk['get']('items');var up=ul['get']('media');if(uo[un]==ul&&up['get']('isLoaded')){um['play']();}else{var uq=um['get']('movements');var ur={};if(uq['length']>0x0){var us=uq[0x0];if(us['get']('class')=='TargetModel3DCameraMovement'){var ut=['x','y','z','yaw','pitch','fov','distance'];for(var uu in ut){uu=ut[uu];var uv=us['get']('target'+uu['charAt'](0x0)['toUpperCase']()+uu['slice'](0x1));if(uv!==undefined){ur[uu]=uv;}}}}this['startModel3DWithCameraSpot'](ul,ur);var uw=function(){ul['unbind']('begin',uw,this);um['play']();};ul['bind']('begin',uw,this);}};TDV['Tour']['Script']['setPanoramaCameraWithCurrentSpot']=function(ux,uy){var uz=this['getActiveMediaWithViewer'](uy||this['getMainViewer']());if(uz!=undefined&&(uz['get']('class')['indexOf']('Panorama')!=-0x1||uz['get']('class')=='Video360')){var uA=ux['get']('media');var uB=this['clonePanoramaCamera'](ux['get']('camera'));this['setCameraSameSpotAsMedia'](uB,uz);this['startPanoramaWithCamera'](uA,uB);}};TDV['Tour']['Script']['setPanoramaCameraWithSpot']=function(uC,uD,uE,uF,uG){var uH=uD['get']('media');var uI=uD['get']('player');if(uC['get']('items')[uC['get']('selectedIndex')]==uD||uI['get']('rendererPanorama')==uH){if(uE===undefined)uE=uI['get']('yaw');if(uF===undefined)uF=uI['get']('pitch');if(uG===undefined)uG=uI['get']('hfov');uI['moveTo'](uE,uF,uI['get']('roll'),uG);}else{var uJ=this['clonePanoramaCamera'](uD['get']('camera'));var uK=uJ['get']('initialPosition');if(uE!==undefined)uK['set']('yaw',uE);if(uF!==undefined)uK['set']('pitch',uF);if(uG!==undefined)uK['set']('hfov',uG);this['startPanoramaWithCamera'](uH,uJ);}};TDV['Tour']['Script']['setSurfaceSelectionHotspotMode']=function(uL){var uM=this['getByClassName']('HotspotPanoramaOverlay');var uN=this['getByClassName']('PanoramaPlayer');var uO=uL=='hotspotEnabled';var uP=uL=='circleEnabled';var uQ=!!uL;uM['forEach'](function(uR){var uS=uR['get']('data');if(uS&&uS['hasPanoramaAction']==!![])uR['set']('enabledInSurfaceSelection',uO);});uN['forEach'](function(uT){uT['set']('adjacentPanoramaPositionsEnabled',uP);uT['set']('surfaceSelectionEnabled',uQ);});this['get']('data')['surfaceSelectionHotspotMode']=uL;};TDV['Tour']['Script']['setValue']=function(uU,uV,uW){try{if('set'in uU)uU['set'](uV,uW);else uU[uV]=uW;}catch(uX){}};TDV['Tour']['Script']['setStartTimeVideo']=function(uY,uZ){var v0=this['getPlayListItems'](uY);var v1=[];var v2=function(){for(var v6=0x0;v6<v0['length'];++v6){var v7=v0[v6];v7['set']('startTime',v1[v6]);v7['unbind']('stop',v2,this);}};for(var v3=0x0;v3<v0['length'];++v3){var v4=v0[v3];var v5=v4['get']('player');if(!v5)continue;if(v5['get']('video')==uY&&v5['get']('state')=='playing'){v5['seek'](uZ);}else{v1['push'](v4['get']('startTime'));v4['set']('startTime',uZ);v4['bind']('stop',v2,this);}}};TDV['Tour']['Script']['setStartTimeVideoSync']=function(v8,v9){if(v8&&v9)this['setStartTimeVideo'](v8,v9['get']('currentTime'));};TDV['Tour']['Script']['skip3DTransitionOnce']=function(va){if(va&&va['get']('class')=='PanoramaPlayer'){var vb=va['get']('viewerArea');if(vb&&vb['get']('translationTransitionEnabled')==!![]){var vc=function(){va['unbind']('preloadMediaShow',vc,this);vb['set']('translationTransitionEnabled',!![]);};vb['set']('translationTransitionEnabled',![]);va['bind']('preloadMediaShow',vc,this);}}};TDV['Tour']['Script']['shareSocial']=function(vd,ve,vf,vg,vh){if(ve==undefined){ve=location['href']['split'](location['search']||location['hash']||/[?#]/)[0x0];}if(vf){ve+=this['updateDeepLink'](vg,![]);}ve=function(vj){switch(vj){case'email':return'mailto:?body='+encodeURIComponent(ve);case'facebook':var vk=ve['indexOf']('?')!=-0x1;ve=ve['replace']('#','?');if(vk){var vl=ve['lastIndexOf']('?');ve=ve['substring'](0x0,vl)+'&'+ve['substring'](vl+0x1);}return'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(ve);case'linkedin':return'https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(ve);case'pinterest':return'https://pinterest.com/pin/create/button/?url='+ve;case'telegram':return'https://t.me/share/url?url='+ve;case'twitter':return'https://twitter.com/intent/tweet?source=webclient&url='+ve;case'whatsapp':return'https://api.whatsapp.com/send/?text='+encodeURIComponent(ve);default:return ve;}}(vd);if(vh){for(var vi in vh){ve+='&'+vi+'='+vh[vi];}}if(vd=='clipboard')this['copyToClipboard'](ve);else this['openLink'](ve,'_blank');};TDV['Tour']['Script']['showComponentsWhileMouseOver']=function(vm,vn,vo,vp){var vq=function(vu){for(var vv=0x0,vw=vn['length'];vv<vw;vv++){var vx=vn[vv];if(!vp||vp(vx,vu))vx['set']('visible',vu);}};if(this['get']('isMobile')||this['get']('touchDevice')){vq['call'](this,!![]);}else{var vr=-0x1;var vs=function(){vq['call'](this,!![]);if(vr>=0x0)clearTimeout(vr);vm['bind']('rollOut',vt,this);};var vt=function(){var vy=function(){vq['call'](this,![]);};vm['unbind']('rollOut',vt,this);vr=setTimeout(vy['bind'](this),vo);};vm['bind']('rollOver',vs,this);}};TDV['Tour']['Script']['setObjectsVisibilityByTags']=function(vz,vA,vB,vC){var vD=this['_getObjectsByTags'](vA,['InnerModel3DObject'],'tags2Objects',vB)['filter'](function(vE){return vz['get']('objects')['indexOf'](vE)!=-0x1;}['bind'](this));this['setObjectsVisibility'](vD,vC);};TDV['Tour']['Script']['setObjectsVisibilityByID']=function(vF,vG,vH){var vI=vG['map'](function(vJ){return this['getModel3DInnerObject'](vF,vJ);}['bind'](this));this['setObjectsVisibility'](vI,vH);};TDV['Tour']['Script']['setObjectsVisibility']=function(vK,vL){vK['forEach'](function(vM){if(vM)vM['set']('enabled',vL==='toggle'?!vM['get']('enabled'):vL);}['bind'](this));};TDV['Tour']['Script']['getModel3DInnerObject']=function(vN,vO){var vP=vN['get']('objects');for(var vQ=0x0,vR=vP['length'];vQ<vR;++vQ){var vS=vP[vQ];if(vS['get']('class')=='InnerModel3DObject'&&vS['get']('objectId')==vO)return vS;}return undefined;};TDV['Tour']['Script']['showPopupMedia']=function(vT,vU,vV,vW,vX,vY){var vZ=this;var w0=function(){window['resumeAudiosBlocked']=![];vV['set']('selectedIndex',-0x1);vZ['getMainViewer']()['set']('toolTipEnabled',!![]);this['resumePlayers'](w5,!![]);if(w4){this['unbind']('resize',w2,this);}vT['unbind']('close',w0,this);};var w1=function(){vT['hide']();};var w2=function(){var w6=function(wn){return vT['get'](wn)||0x0;};var w7=vZ['get']('actualWidth');var w8=vZ['get']('actualHeight');var w9=vZ['getMediaWidth'](vU);var wa=vZ['getMediaHeight'](vU);var wb=parseFloat(vW)/0x64;var wc=parseFloat(vX)/0x64;var wd=wb*w7;var we=wc*w8;var wf=w6('footerHeight');var wg=w6('headerHeight');if(!wg){var wh=w6('closeButtonIconHeight')+w6('closeButtonPaddingTop')+w6('closeButtonPaddingBottom');var wi=vZ['getPixels'](w6('titleFontSize'))+w6('titlePaddingTop')+w6('titlePaddingBottom');wg=wh>wi?wh:wi;wg+=w6('headerPaddingTop')+w6('headerPaddingBottom');}var wj=wd-w6('bodyPaddingLeft')-w6('bodyPaddingRight')-w6('paddingLeft')-w6('paddingRight');var wk=we-wg-wf-w6('bodyPaddingTop')-w6('bodyPaddingBottom')-w6('paddingTop')-w6('paddingBottom');var wl=wj/wk;var wm=w9/wa;if(wl>wm){wd=wk*wm+w6('bodyPaddingLeft')+w6('bodyPaddingRight')+w6('paddingLeft')+w6('paddingRight');}else{we=wj/wm+wg+wf+w6('bodyPaddingTop')+w6('bodyPaddingBottom')+w6('paddingTop')+w6('paddingBottom');}if(wd>w7*wb){wd=w7*wb;}if(we>w8*wc){we=w8*wc;}vT['set']('width',wd);vT['set']('height',we);vT['set']('x',(w7-w6('actualWidth'))*0.5);vT['set']('y',(w8-w6('actualHeight'))*0.5);};if(vY){this['executeFunctionWhenChange'](vV,0x0,w1);}var w3=vU['get']('class');var w4=w3=='Video'||w3=='Video360';vV['set']('selectedIndex',0x0);if(w4){this['bind']('resize',w2,this);w2();vV['get']('items')[0x0]['get']('player')['play']();}else{vT['set']('width',vW);vT['set']('height',vX);}window['resumeAudiosBlocked']=!![];this['getMainViewer']()['set']('toolTipEnabled',![]);var w5=this['pauseCurrentPlayers'](!![]);vT['bind']('close',w0,this);vT['show'](this,!![]);};TDV['Tour']['Script']['showPopupImage']=function(wo,wp,wq,wr,ws,wt,wu,wv,ww,wx,wy,wz){var wA=![];var wB=function(){wT['unbind']('loaded',wE,this);wI['call'](this);};var wC=function(){wT['unbind']('click',wC,this);if(wX!=undefined){clearTimeout(wX);}};var wD=function(){setTimeout(wN,0x0);};var wE=function(){this['unbind']('click',wB,this);wS['set']('visible',!![]);wN();wU['set']('visible',!![]);wT['unbind']('loaded',wE,this);wT['bind']('resize',wD,this);wX=setTimeout(wF['bind'](this),0xc8);};var wF=function(){wX=undefined;if(wv){wT['bind']('click',wC,this);wH['call'](this);}wT['bind']('userInteractionStart',wO,this);wT['bind']('userInteractionEnd',wP,this);wT['bind']('backgroundClick',wI,this);if(wp){wT['bind']('click',wL,this);wT['set']('imageCursor','hand');}wU['bind']('click',wI,this);if(wy)wy['call'](this);};var wG=function(){if(wv&&wX){clearTimeout(wX);wX=undefined;}};var wH=function(){if(wv){wG();wX=setTimeout(wI['bind'](this),wv);}};var wI=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);wA=!![];if(wX)clearTimeout(wX);if(wY)clearTimeout(wY);if(wv)wC();if(wt&&wt['get']('duration')>0x0){wt['bind']('end',wK,this);}else{setTimeout(()=>{wJ['call'](this);},0x0);}wT['set']('visible',![]);wU['set']('visible',![]);wS['set']('visible',![]);this['unbind']('click',wB,this);wT['unbind']('backgroundClick',wI,this);wT['unbind']('userInteractionStart',wO,this);wT['unbind']('userInteractionEnd',wP,this,!![]);wT['unbind']('resize',wD,this);if(wp){wT['unbind']('click',wL,this);wT['set']('cursor','default');}wU['unbind']('click',wI,this);this['resumePlayers'](wW,ww==null||wx);if(wx){this['resumeGlobalAudios']();}if(ww){this['stopGlobalAudio'](ww);}};var wJ=function(){wT['set']('image',null);if(wz)wz['call'](this);};var wK=function(){wt['unbind']('end',wK,this);wJ['call'](this);};var wL=function(){wT['set']('image',wM()?wo:wp);};var wM=function(){return wT['get']('image')==wp;};var wN=function(){var wZ=wT['get']('actualWidth')-wT['get']('imageLeft')-wT['get']('imageWidth')+0xa;var x0=wT['get']('imageTop')+0xa;if(wZ<0xa)wZ=0xa;if(x0<0xa)x0=0xa;wU['set']('right',wZ);wU['set']('top',x0);};var wO=function(){wG();if(wY){clearTimeout(wY);wY=undefined;}else{wU['set']('visible',![]);}};var wP=function(){wH['call'](this);if(!wA){wY=setTimeout(wQ,0x12c);}};var wQ=function(){wY=undefined;wU['set']('visible',!![]);wN();};var wR=function(x1){var x2=x1['get']('data');if(x2&&'extraLevels'in x2){var x3=this['rootPlayer']['createInstance'](x1['get']('class'));var x4=x2['extraLevels'];for(var x5=0x0;x5<x4['length'];x5++){var x6=x4[x5];if(typeof x6=='string')x4[x5]=this[x6['replace']('this.','')];}x3['set']('levels',x1['get']('levels')['concat'](x4));x1=x3;}return x1;};this['getMainViewer']()['set']('toolTipEnabled',![]);var wS=this['veilPopupPanorama'];var wT=this['zoomImagePopupPanorama'];var wU=this['closeButtonPopupPanorama'];if(wu){for(var wV in wu){wU['set'](wV,wu[wV]);}}var wW=this['pauseCurrentPlayers'](ww==null||!wx);if(wx){this['pauseGlobalAudios'](null,!![]);}if(ww){this['playGlobalAudio'](ww,!![]);}var wX=undefined;var wY=undefined;wo=wR['call'](this,wo);if(wp)wp=wR['call'](this,wp);wT['bind']('loaded',wE,this);setTimeout(function(){this['bind']('click',wB,this,![]);}['bind'](this),0x0);wT['set']('image',wo);wT['set']('customWidth',wq);wT['set']('customHeight',wr);wT['set']('showEffect',ws);wT['set']('hideEffect',wt);wT['set']('visible',!![]);return wT;};TDV['Tour']['Script']['showPopupPanoramaOverlay']=function(x7,x8,x9,xa,xb,xc,xd,xe){var xf=this['isCardboardViewMode']();if(x7['get']('visible')||!xf&&this['zoomImagePopupPanorama']['get']('visible'))return;this['getMainViewer']()['set']('toolTipEnabled',![]);if(!xf){var xg=this['zoomImagePopupPanorama'];var xh=x7['get']('showDuration');var xi=x7['get']('hideDuration');var xk=this['pauseCurrentPlayers'](xc==null||!xd);var xl=x7['get']('popupMaxWidth');var xm=x7['get']('popupMaxHeight');var xn=function(){var xr=function(){if(!this['isCardboardViewMode']())x7['set']('visible',![]);};x7['unbind']('showEnd',xn,this);x7['set']('showDuration',0x1);x7['set']('hideDuration',0x1);this['showPopupImage'](x9,xa,x7['get']('popupMaxWidth'),x7['get']('popupMaxHeight'),null,null,x8,xb,xc,xd,xr,xo);};var xo=function(){var xs=function(){x7['unbind']('hideEnd',xs,this);if(xe)xe();};var xt=function(){x7['unbind']('showEnd',xt,this);x7['bind']('hideEnd',xs,this,!![]);x7['set']('visible',![]);x7['set']('showDuration',xh);x7['set']('popupMaxWidth',xl);x7['set']('popupMaxHeight',xm);};this['resumePlayers'](xk,xc==null||!xd);x7['set']('hideDuration',xi);if(!x7['get']('visible')&&xi>0x0){var xu=xg['get']('imageWidth');var xv=xg['get']('imageHeight');x7['bind']('showEnd',xt,this,!![]);x7['set']('showDuration',0x1);x7['set']('popupMaxWidth',xu);x7['set']('popupMaxHeight',xv);x7['set']('visible',!![]);}else{x7['set']('showDuration',xh);if(xe)xe();}this['getMainViewer']()['set']('toolTipEnabled',!![]);};x7['bind']('showEnd',xn,this,!![]);}else{var xp=function(){this['resumePlayers'](xk,xc==null||xd);if(xd){this['resumeGlobalAudios']();}if(xc){this['stopGlobalAudio'](xc);}if(xa){x7['set']('image',x9);x7['unbind']('click',xq,this);}x7['unbind']('hideEnd',xp,this);this['getMainViewer']()['set']('toolTipEnabled',!![]);if(xe)xe();};var xq=function(){x7['set']('image',x7['get']('image')==x9?xa:x9);};var xk=this['pauseCurrentPlayers'](xc==null||!xd);if(xd){this['pauseGlobalAudios'](null,!![]);}if(xc){this['playGlobalAudio'](xc,!![]);}if(xa)x7['bind']('click',xq,this);x7['bind']('hideEnd',xp,this,!![]);}x7['set']('visible',!![]);};TDV['Tour']['Script']['showPopupPanoramaVideoOverlay']=function(xw,xx,xy,xz,xA){var xB=![];var xC=function(){xw['unbind']('showEnd',xC);xG['bind']('click',xE,this);xF();xG['set']('visible',!![]);}['bind'](this);var xD=function(){xB=!![];if(!xw['get']('loop'))xE();}['bind'](this);var xE=function(){window['resumeAudiosBlocked']=![];this['getMainViewer']()['set']('toolTipEnabled',!![]);xw['set']('visible',![]);xG['set']('visible',![]);xG['unbind']('click',xE,this);xw['unbind']('end',xD,this);xw['unbind']('hideEnd',xE,this,!![]);this['resumePlayers'](xI,!![]);if(xy){this['resumeGlobalAudios']();}if(xz)xz();if(xA&&xB)xA();}['bind'](this);var xF=function(){var xJ=0xa;var xK=0xa;xG['set']('right',xJ);xG['set']('top',xK);}['bind'](this);this['getMainViewer']()['set']('toolTipEnabled',![]);var xG=this['closeButtonPopupPanorama'];if(xx){for(var xH in xx){xG['set'](xH,xx[xH]);}}window['resumeAudiosBlocked']=!![];var xI=this['pauseCurrentPlayers'](!![]);if(xy){this['pauseGlobalAudios']();}xw['bind']('end',xD,this,!![]);xw['bind']('showEnd',xC,this,!![]);xw['bind']('hideEnd',xE,this,!![]);xw['set']('visible',!![]);};TDV['Tour']['Script']['showWindow']=function(xL,xM,xN){if(xL['get']('visible')==!![]){return;}var xO=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);if(xN){this['resumeGlobalAudios']();}xP();this['resumePlayers'](xS,!xN);xL['unbind']('close',xO,this);};var xP=function(){xL['unbind']('click',xP,this);if(xQ!=undefined){clearTimeout(xQ);}};var xQ=undefined;if(xM){var xR=function(){xL['hide']();};xL['bind']('click',xP,this);xQ=setTimeout(xR,xM);}this['getMainViewer']()['set']('toolTipEnabled',![]);if(xN){this['pauseGlobalAudios'](null,!![]);}var xS=this['pauseCurrentPlayers'](!xN);xL['bind']('close',xO,this);xL['show'](this,!![]);};TDV['Tour']['Script']['startModel3DWithCameraSpot']=function(xT,xU){var xV=xT['get']('media');var xW=window['currentPanoramasWithCameraChanged']==undefined||!(xV['get']('id')in window['currentPanoramasWithCameraChanged']);if(!xW){return;}var xX=xV['get']('camera');xU=Object['assign']({},xU);if(!xV['get']('isLoaded')){var xY={};for(var y0 in xU){var y1='initial'+y0['charAt'](0x0)['toUpperCase']()+y0['slice'](0x1);xY[y1]=xX['get'](y1);xU[y1]=xU[y0];xX['set'](y1,xU[y1]);delete xU[y0];}if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var y2=xV['get']('id');window['currentPanoramasWithCameraChanged'][y2]=[xT];var y3=function(){if(y2 in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][y2];}xT['unbind']('begin',y3,this);for(var yb in xY){xX['set'](yb,xY[yb]);}};xT['bind']('begin',y3,this);}else{for(var y0 in xU){xX['set'](y0,xU[y0]);}xX['setStoredPosition'](xU);}var y4=xT['get']('player');var y5=y4['get']('viewerArea');var y6=this['getActivePlayersWithViewer'](y5);var y7=y6['find'](function(yc){return this['getMediaFromPlayer'](yc)['get']('class')['indexOf']('Panorama')!=-0x1;}['bind'](this));var y8=xV['get']('data');if(y7&&y8['panoramaLocations']){var y9=this['getMediaFromPlayer'](y7);var ya=_getObject(this,y8['panoramaLocations']['find'](yd=>y9==_getObject(this,_getObject(this,yd)['get']('data')['panorama'])));if(ya&&!ya['get']('forceModelLoading')){ya['set']('forceModelLoading',!![]);xT['bind']('begin',function ye(){xT['unbind']('begin',ye,this);ya['set']('forceModelLoading',![]);},this);}}};TDV['Tour']['Script']['startPanoramaWithCamera']=function(yf,yg){var yh=this['getByClassName']('PlayList');if(yh['length']==0x0)return;var yi=window['currentPanoramasWithCameraChanged']==undefined||!(yf['get']('id')in window['currentPanoramasWithCameraChanged']);var yj=[];for(var yl=0x0,ym=yh['length'];yl<ym;++yl){var yn=yh[yl];var yo=yn['get']('items');for(var yp=0x0,yq=yo['length'];yp<yq;++yp){var ys=yo[yp];if(ys['get']('media')==yf&&(ys['get']('class')=='PanoramaPlayListItem'||ys['get']('class')=='Video360PlayListItem')){if(yi){yj['push']({'camera':ys['get']('camera'),'item':ys});}ys['set']('camera',yg);}}}if(yj['length']>0x0){if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var yt=yf['get']('id');window['currentPanoramasWithCameraChanged'][yt]=yj;var yu=function(){if(yt in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][yt];}for(var yw=0x0;yw<yj['length'];yw++){yj[yw]['item']['set']('camera',yj[yw]['camera']);yj[yw]['item']['unbind']('end',yu,this);}};for(var yl=0x0;yl<yj['length'];yl++){var yv=yj[yl];var ys=yv['item'];this['skip3DTransitionOnce'](ys['get']('player'));ys['bind']('end',yu,this);}}};TDV['Tour']['Script']['stopAndGoCamera']=function(yx,yy){var yz=yx['get']('initialSequence');yz['pause']();var yA=function(){yz['play']();};setTimeout(yA,yy);};TDV['Tour']['Script']['syncPlaylists']=function(yB){var yC=function(yK,yL){for(var yM=0x0,yN=yB['length'];yM<yN;++yM){var yO=yB[yM];if(yO!=yL){var yP=yO['get']('items');for(var yQ=0x0,yR=yP['length'];yQ<yR;++yQ){if(yP[yQ]['get']('media')==yK){if(yO['get']('selectedIndex')!=yQ){yO['set']('selectedIndex',yQ);}break;}}}}};var yD=function(yS){var yT=yS['source'];var yU=yT['get']('selectedIndex');if(yU<0x0)return;var yV=yT['get']('items')[yU]['get']('media');yC(yV,yT);};var yE=function(yW){var yX=yW['source']['get']('panoramaMapLocation');if(yX){var yY=yX['get']('map');yC(yY);}};for(var yG=0x0,yI=yB['length'];yG<yI;++yG){yB[yG]['bind']('change',yD,this);}var yJ=this['getByClassName']('MapPlayer');for(var yG=0x0,yI=yJ['length'];yG<yI;++yG){yJ[yG]['bind']('panoramaMapLocation_change',yE,this);}};TDV['Tour']['Script']['translate']=function(yZ){return this['get']('data')['localeManager']['trans'](yZ);};TDV['Tour']['Script']['triggerOverlay']=function(z0,z1){if(z0['get']('areas')!=undefined){var z2=z0['get']('areas');for(var z3=0x0;z3<z2['length'];++z3){z2[z3]['trigger'](z1);}}else{z0['trigger'](z1);}};TDV['Tour']['Script']['updateDeepLink']=function(z4){z4=z4||{};var z5=this['mainPlayList']['get']('selectedIndex');var z6;var z7=z5>=0x0?this['mainPlayList']['get']('items')[z5]['get']('media'):this['getActiveMediaWithViewer'](this['getMainViewer']());if(z7!=undefined){var z9=z7['get']('data');if(z9&&z9['label']){if(z5>=0x0){var zb=this['mainPlayList']['get']('items')['reduce'](function(zw,zx){var zy=zx['get']('media')['get']('data');return zy&&z9['label']==zy['label']?zw+0x1:zw;},0x0);if(zb!=0x1)z6='#media='+(z5+0x1);}if(!z6)z6='#media-name='+encodeURIComponent(z9['label']);}else if(z5>=0x0){z6='#media='+(z5+0x1);}}if(z7){if(z4['includeCurrentView']===!![]){var zc=this['getActivePlayerWithViewer'](this['getMainViewer']());if(zc){switch(zc['get']('class')){case'PanoramaPlayer':var zd=zc['get']('yaw');var ze=zc['get']('pitch');var zf=zc['get']('hfov');if(!isNaN(zd)&&!isNaN(ze))z6+='&yaw='+zd['toFixed'](0x2)+'&pitch='+ze['toFixed'](0x2);if(!isNaN(zf))z6+='&fov='+zf['toFixed'](0x2);break;case'Model3DPlayer':var zg=zc['get']('model');var zh=zg['get']('camera');var zi=[];zi['push']('yaw='+zh['get']('yaw')['toFixed'](0x2));zi['push']('pitch='+zh['get']('pitch')['toFixed'](0x2));zi['push']('x='+zh['get']('x')['toFixed'](0x5));zi['push']('y='+zh['get']('y')['toFixed'](0x5));zi['push']('z='+zh['get']('z')['toFixed'](0x5));if(zh['get']('class')=='OrbitModel3DCamera')zi['push']('distance='+zh['get']('distance')['toFixed'](0x5));z6+='&'+zi['join']('&');break;}}}if(z4['includeCurrentVisibleHotspots']===!![]){var zj=this['getOverlays'](z7);var zk=[];var zl=[];for(var zm=0x0,zb=zj['length'];zm<zb;++zm){var zn=zj[zm];var zo=zn['get']('enabled');var z9=zn['get']('data');if(zo===undefined||!z9||!z9['label'])continue;var zp=encodeURIComponent(z9['label']);var zq=z9['group'];if(zo!=z9['defaultEnabledValue']){if(zo){zk['push'](zp);}else if(!zq){zl['push'](zp);}}}if(zk['length']>0x0)z6+='&son='+zk['join'](',');if(zl['length']>0x0)z6+='&hon='+zl['join'](',');if(z7['get']('class')=='Model3D'){var zr=z7['get']('variant');if(zr)z6+='&variant='+zr;var zs=z7['get']('objects');var zt=[];var zu=[];zs['forEach'](function(zz){if(zz['get']('class')=='InnerModel3DObject')(zz['get']('enabled')?zt:zu)['push'](zz['get']('objectId'));});if(zt['length']>0x0)z6+='&sobjids='+zt['join'](',');if(zu['length']>0x0)z6+='&hobjids='+zu['join'](',');}}if(z4['includeCurrentMeasureModel3DObjects']===!![]&&z7['get']('class')=='Model3D'){var zv=[];z7['get']('objects')['forEach'](function(zA){if(zA['get']('class')=='MeasureModel3DObject'&&zA['get']('mode')!='create'){var zB=[zA['get']('data')['id'],zA['get']('x'),zA['get']('y'),zA['get']('z')];zA['get']('points')['forEach'](function(zC){zB['push'](zC['get']('x'),zC['get']('y'),zC['get']('z'));});if(zB['length']>0x4){zv['push'](zB['join'](','));}}});if(zv['length']>0x0)z6+='&measures='+zv['join']('+');}}if(z6&&z4['setHash']===!![]){location['hash']=z6;}return z6;};TDV['Tour']['Script']['updateMediaLabelFromPlayList']=function(zD,zE,zF){var zG=function(){var zI=zD['get']('selectedIndex');if(zI>=0x0){var zJ=function(){zM['unbind']('begin',zJ);zK(zI);};var zK=function(zN){var zO=zM['get']('media');var zP=zO['get']('data');var zQ=zP!==undefined?zP['description']:undefined;zL(zQ);};var zL=function(zR){if(zR!==undefined){zE['set']('html','<div\x20style=\x22text-align:left\x22><SPAN\x20STYLE=\x22color:#FFFFFF;font-size:12px;font-family:Verdana\x22><span\x20color=\x22white\x22\x20font-family=\x22Verdana\x22\x20font-size=\x2212px\x22>'+zR+'</SPAN></div>');}else{zE['set']('html','');}var zS=zE['get']('html');zE['set']('visible',zS!==undefined&&zS);};var zM=zD['get']('items')[zI];if(zE['get']('html')){zL('Loading...');zM['bind']('begin',zJ);}else{zK(zI);}}};var zH=function(){zE['set']('html',undefined);zD['unbind']('change',zG,this);zF['unbind']('stop',zH,this);};if(zF){zF['bind']('stop',zH,this);}zD['bind']('change',zG,this);zG();};TDV['Tour']['Script']['updateVideoCues']=function(zT,zU){var zV=zT['get']('items')[zU];var zW=zV['get']('media');if(zW['get']('cues')['length']==0x0)return;var zX=zV['get']('player');var zY=[];var zZ=function(){if(zT['get']('selectedIndex')!=zU){zW['unbind']('cueChange',A0,this);zT['unbind']('change',zZ,this);}};var A0=function(A1){var A2=A1['data']['activeCues'];for(var A3=0x0,A4=zY['length'];A3<A4;++A3){var A5=zY[A3];if(A2['indexOf'](A5)==-0x1&&(A5['get']('startTime')>zX['get']('currentTime')||A5['get']('endTime')<zX['get']('currentTime')+0.5)){A5['trigger']('end');}}zY=A2;};zW['bind']('cueChange',A0,this);zT['bind']('change',zZ,this);};TDV['Tour']['Script']['visibleComponentsIfPlayerFlagEnabled']=function(A6,A7){var A8=this['get'](A7);for(var A9 in A6){A6[A9]['set']('visible',A8);}};TDV['Tour']['Script']['quizStart']=function(){var Aa=this['get']('data')['quiz'];return Aa?Aa['start']():undefined;};TDV['Tour']['Script']['quizFinish']=function(){var Ab=this['get']('data')['quiz'];return Ab?Ab['finish']():undefined;};TDV['Tour']['Script']['quizPauseTimer']=function(){var Ac=this['get']('data')['quiz'];return Ac?Ac['pauseTimer']():undefined;};TDV['Tour']['Script']['quizResumeTimer']=function(){var Ad=this['get']('data')['quiz'];return Ad?Ad['continueTimer']():undefined;};TDV['Tour']['Script']['quizSetItemFound']=function(Ae){var Af=this['get']('data')['quiz'];if(Af)Af['setItemFound'](Ae);};TDV['Tour']['Script']['quizShowQuestion']=function(Ag){var Ah=this['get']('data');var Ai=Ah['quiz'];var Aj;if(Ai){var Ak=this['pauseCurrentPlayers'](!![]);var Al=this[Ag];var Am;var An=this['get']('data')['tour']['isIPad']();if(!Al['media']){Am=this['get']('isMobile')&&!An?{'theme':{'window':{'height':undefined,'maxHeight':this['get']('actualHeight'),'optionsContainer':{'height':'100%'}}}}:{'theme':{'window':{'width':'40%','height':undefined,'maxHeight':0x2bc,'optionsContainer':{'width':'100%'}}}};}else if(this['get']('isMobile')&&!An&&this['get']('orientation')=='landscape'){Am={'theme':{'window':{'bodyContainer':{'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e},'mediaContainer':{'width':'60%','height':'100%'},'buttonsContainer':{'paddingLeft':0x14,'paddingRight':0x14},'optionsContainer':{'width':'40%','height':'100%','paddingLeft':0x0,'paddingRight':0x0}}}};}else if(An&&this['get']('orientation')=='portrait'){Am={'theme':{'window':{'width':'90%'}}};}if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){var Ao=this['get']('data')['tour']['getNotchValue']();if(Ao>0x0){Am=this['mixObject'](Am||{},{'theme':{'window':{'width':undefined,'left':Ao,'right':Ao}}});}}var Ap=this['get']('data')['textToSpeechConfig']['speechOnQuizQuestion']&&!!Al['title'];if(Ap)this['textToSpeech'](Al['title'],Ag);Aj=Ai['showQuestion'](Ag,Am);Aj['then'](function(Aq){if(Ap)this['stopTextToSpeech']();this['resumePlayers'](Ak,!![]);}['bind'](this));}return Aj;};TDV['Tour']['Script']['quizShowScore']=function(Ar){var As=this['get']('data');var At=As['quiz'];if(At){if(this['get']('isMobile')){Ar=Ar||{};Ar=this['mixObject'](Ar,As[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}return At['showScore'](Ar);}};TDV['Tour']['Script']['quizShowTimeout']=function(Au,Av){var Aw=this['get']('data');var Ax=Aw['quiz'];if(Ax){if(this['get']('isMobile')){Av=Av||{};Av=this['mixObject'](Av,Aw[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}Ax['showTimeout'](Au,Av);}};TDV['Tour']['Script']['stopTextToSpeech']=function(Ay){if(window['speechSynthesis']&&(Ay==undefined||this['t2sLastID']==Ay)){var Az=window['speechSynthesis'];if(Az['speaking']){Az['cancel']();}this['t2sLastID']=undefined;}};TDV['Tour']['Script']['getStateTextToSpeech']=function(AA){return this['t2sLastID']==AA?'playing':'stopped';};TDV['Tour']['Script']['textToSpeech']=function(AB,AC,AD){if(this['get']('mute')){return;}var AE=this['get']('data');var AF=AE['disableTTS']||![];if(AF)return;if(AC!=undefined&&this['t2sLastID']!=AC||AC==undefined){AD=AD||0x0;if(this['t2sLastID']&&AD>this['t2sLastPriority']){return;}var AG=AE['tour'];var AH=AE['textToSpeechConfig'];var AI=AE['localeManager']['currentLocaleID'];if(window['speechSynthesis']){var AJ=window['speechSynthesis'];if(AJ['speaking']){AJ['cancel']();}var AK=new SpeechSynthesisUtterance(AB);if(AI)AK['lang']=AI;var AL;if(AH){AK['volume']=AH['volume'];AK['pitch']=AH['pitch'];AK['rate']=AH['rate'];if(AH['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}AK['onend']=function(){this['t2sLastID']=null;if(AL)clearInterval(AL);if(AH['stopBackgroundAudio'])this['resumeGlobalAudios']();}['bind'](this);if(navigator['userAgent']['indexOf']('Chrome')!=-0x1&&!this['get']('isMobile')){AL=setInterval(function(){AJ['pause']();AJ['resume']();},0xbb8);}AJ['speak'](AK);this['t2sLastPriority']=AD;this['t2sLastID']=AC;}else if(AG['isMobileApp']()){if(!AG['isIOS']()){var AM=function(AN,AO){var AP={'command':'tts','type':AN};if(AO)AP=this['mixObject'](AP,AO);android['sendJSON'](JSON['stringify'](AP));}['bind'](this);android['onTTSEnd']=function(){this['t2sLastID']=null;if(AH['stopBackgroundAudio'])this['resumeGlobalAudios']();android['onTTSEnd']=undefined;}['bind'](this);AM('stop');if(AH){AM('init',{'volume':AH['volume'],'pitch':AH['pitch'],'rate':AH['rate'],'language':AI});if(AH['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}AM('play',{'text':AB,'androidCallback':'onTTSEnd'});}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}};TDV['Tour']['Script']['textToSpeechComponent']=function(AQ){var AR=AQ['get']('class');var AS;if(AR=='HTMLText'){var AT=AQ['get']('html');if(AT){AS=this['htmlToPlainText'](AT,{'linkProcess':function(AU,AV){return AV;}});}}else if(AR=='Button'){AS=AQ['get']('label');}else if(AR=='Label'){AS=AQ['get']('text');}if(AS){this['textToSpeech'](AS,AQ['get']('id'));}};TDV['Tour']['Script']['toggleTextToSpeechComponent']=function(AW){var AX=AW['get']('id');if(this['getStateTextToSpeech'](AX)!='playing')this['textToSpeechComponent'](AW);else this['stopTextToSpeech'](AX);};TDV['Tour']['Script']['_initTTSTooltips']=function(){function AY(B0){var B1=B0['source'];this['textToSpeech'](B1['get']('toolTip'),B1['get']('id'),0x1);}function AZ(B2){var B3=B2['source'];this['stopTextToSpeech'](B3['get']('id'));}setTimeout(function(){var B4=this['getByClassName']('UIComponent');for(var B5=0x0,B6=B4['length'];B5<B6;++B5){var B7=B4[B5];var B8=B7['get']('toolTip');if(!!B8||B7['get']('class')=='ViewerArea'){B7['bind']('toolTipShow',AY,this);B7['bind']('toolTipHide',AZ,this);}}}['bind'](this),0x0);};TDV['Tour']['Script']['takeScreenshot']=function(B9){var Ba=this['getActivePlayerWithViewer'](B9);if(Ba&&(Ba['get']('class')=='PanoramaPlayer'||Ba['get']('class')=='Model3DPlayer'))Ba['saveScreenshot']();};TDV['Tour']['Script']['htmlToPlainText']=function htmlToPlainText(Bb,Bc){var Bd=function(Br,Bs){var Bt='';for(var Bu=0x0;Bu<Bs;Bu+=0x1){Bt+=Br;}return Bt;};var Be=null;var Bf=null;var Bg='underline';var Bh='indention';var Bi='-';var Bj=0x3;var Bk='-';var Bl=![];if(!!Bc){if(typeof Bc['linkProcess']==='function'){Be=Bc['linkProcess'];}if(typeof Bc['imgProcess']==='function'){Bf=Bc['imgProcess'];}if(!!Bc['headingStyle']){Bg=Bc['headingStyle'];}if(!!Bc['listStyle']){Bh=Bc['listStyle'];}if(!!Bc['uIndentionChar']){Bi=Bc['uIndentionChar'];}if(!!Bc['listIndentionTabs']){Bj=Bc['listIndentionTabs'];}if(!!Bc['oIndentionChar']){Bk=Bc['oIndentionChar'];}if(!!Bc['keepNbsps']){Bl=Bc['keepNbsps'];}}var Bm=Bd(Bi,Bj);var Bn=String(Bb)['replace'](/\n|\r/g,'\x20');const Bo=Bn['match'](/<\/body>/i);if(Bo){Bn=Bn['substring'](0x0,Bo['index']);}const Bp=Bn['match'](/<body[^>]*>/i);if(Bp){Bn=Bn['substring'](Bp['index']+Bp[0x0]['length'],Bn['length']);}Bn=Bn['replace'](/<(script|style)( [^>]*)*>((?!<\/\1( [^>]*)*>).)*<\/\1>/gi,'');Bn=Bn['replace'](/<(\/)?((?!h[1-6]( [^>]*)*>)(?!img( [^>]*)*>)(?!a( [^>]*)*>)(?!ul( [^>]*)*>)(?!ol( [^>]*)*>)(?!li( [^>]*)*>)(?!p( [^>]*)*>)(?!div( [^>]*)*>)(?!td( [^>]*)*>)(?!br( [^>]*)*>)[^>\/])[^<>]*>/gi,'');Bn=Bn['replace'](/<img([^>]*)>/gi,function(Bv,Bw){var Bx='';var By='';var Bz=/src="([^"]*)"/i['exec'](Bw);var BA=/alt="([^"]*)"/i['exec'](Bw);if(Bz!==null){Bx=Bz[0x1];}if(BA!==null){By=BA[0x1];}if(typeof Bf==='function'){return Bf(Bx,By);}if(By===''){return'![image]\x20('+Bx+')';}return'!['+By+']\x20('+Bx+')';});function Bq(){return function(BB,BC,BD,BE){var BF=0x0;if(BD&&/start="([0-9]+)"/i['test'](BD)){BF=/start="([0-9]+)"/i['exec'](BD)[0x1]-0x1;}var BG='<p>'+BE['replace'](/<li[^>]*>(((?!<li[^>]*>)(?!<\/li>).)*)<\/li>/gi,function(BH,BI){var BJ=0x0;var BK=BI['replace'](/(^|(<br \/>))(?!<p>)/gi,function(){if(BC==='o'&&BJ===0x0){BF+=0x1;BJ+=0x1;return'<br\x20/>'+BF+Bd(Bk,Bj-String(BF)['length']);}return'<br\x20/>'+Bm;});return BK;})+'</p>';return BG;};}if(Bh==='linebreak'){Bn=Bn['replace'](/<\/?ul[^>]*>|<\/?ol[^>]*>|<\/?li[^>]*>/gi,'\x0a');}else if(Bh==='indention'){while(/<(o|u)l[^>]*>(.*)<\/\1l>/gi['test'](Bn)){Bn=Bn['replace'](/<(o|u)l([^>]*)>(((?!<(o|u)l[^>]*>)(?!<\/(o|u)l>).)*)<\/\1l>/gi,Bq());}}if(Bg==='linebreak'){Bn=Bn['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,'\x0a$2\x0a');}else if(Bg==='underline'){Bn=Bn['replace'](/<h1[^>]*>(((?!<\/h1>).)*)<\/h1>/gi,function(BL,BM){return'\x0a&nbsp;\x0a'+BM+'\x0a'+Bd('=',BM['length'])+'\x0a&nbsp;\x0a';});Bn=Bn['replace'](/<h2[^>]*>(((?!<\/h2>).)*)<\/h2>/gi,function(BN,BO){return'\x0a&nbsp;\x0a'+BO+'\x0a'+Bd('-',BO['length'])+'\x0a&nbsp;\x0a';});Bn=Bn['replace'](/<h([3-6])[^>]*>(((?!<\/h\1>).)*)<\/h\1>/gi,function(BP,BQ,BR){return'\x0a&nbsp;\x0a'+BR+'\x0a&nbsp;\x0a';});}else if(Bg==='hashify'){Bn=Bn['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,function(BS,BT,BU){return'\x0a&nbsp;\x0a'+Bd('#',BT)+'\x20'+BU+'\x0a&nbsp;\x0a';});}Bn=Bn['replace'](/<br( [^>]*)*>|<p( [^>]*)*>|<\/p( [^>]*)*>|<div( [^>]*)*>|<\/div( [^>]*)*>|<td( [^>]*)*>|<\/td( [^>]*)*>/gi,'\x0a');Bn=Bn['replace'](/<a[^>]*href="([^"]*)"[^>]*>([^<]+)<\/a[^>]*>/gi,function(BV,BW,BX){if(typeof Be==='function'){return Be(BW,BX);}return'\x20['+BX+']\x20('+BW+')\x20';});Bn=Bn['replace'](/\n[ \t\f]*/gi,'\x0a');Bn=Bn['replace'](/\n\n+/gi,'\x0a');if(Bl){Bn=Bn['replace'](/( |\t)+/gi,'\x20');Bn=Bn['replace'](/&nbsp;/gi,'\x20');}else{Bn=Bn['replace'](/( |&nbsp;|\t)+/gi,'\x20');}Bn=Bn['replace'](/\n +/gi,'\x0a');Bn=Bn['replace'](/^ +/gi,'');while(Bn['indexOf']('\x0a')===0x0){Bn=Bn['substring'](0x1);}if(Bn['length']===0x0||Bn['lastIndexOf']('\x0a')!==Bn['length']-0x1){Bn+='\x0a';}return Bn;};TDV['Tour']['Script']['openEmbeddedPDF']=function(BY,BZ){var C0=!!window['MSInputMethodContext']&&!!document['documentMode'];if(C0){this['openLink'](BZ,'_blank');return;}var C1=BY['get']('class');var C2=!new RegExp('^(?:[a-z]+:)?//','i')['test'](BZ);if(C2&&C1=='WebFrame'){var C3=location['origin']+location['pathname'];BY['set']('url','lib/pdfjs/web/viewer.html?file='+encodeURIComponent(C3['substring'](0x0,C3['lastIndexOf']('/'))+'/'+BZ)+'#0');}else{var C4=location['origin']==new URL(BZ)['origin'];var C5='<iframe\x20\x20id=\x27googleViewer\x27\x20src=\x27https://docs.google.com/viewer?url=[url]&embedded=true\x27\x20width=\x27100%\x27\x20height=\x27100%\x27\x20frameborder=\x270\x27>'+'<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>'+'</iframe>';var C6=/^((?!chrome|android|crios|ipad|iphone).)*safari/i['test'](navigator['userAgent']);var C7='<div\x20id=\x22content\x22\x20style=\x22width:100%;height:100%;position:absolute;left:0;top:0;\x22></div>'+'<script\x20type=\x22text/javascript\x22>'+'!function(root,factory){\x22function\x22==typeof\x20define&&define.amd?define([],factory):\x22object\x22==typeof\x20module&&module.exports?module.exports=factory():root.PDFObject=factory()}(this,function(){\x22use\x20strict\x22;if(void\x200===window||void\x200===window.navigator||void\x200===window.navigator.userAgent||void\x200===window.navigator.mimeTypes)return!1;let\x20nav=window.navigator,ua=window.navigator.userAgent,isIE=\x22ActiveXObject\x22in\x20window,isModernBrowser=void\x200!==window.Promise,supportsPdfMimeType=void\x200!==nav.mimeTypes[\x22application/pdf\x22],isMobileDevice=void\x200!==nav.platform&&\x22MacIntel\x22===nav.platform&&void\x200!==nav.maxTouchPoints&&nav.maxTouchPoints>1||/Mobi|Tablet|Android|iPad|iPhone/.test(ua),isSafariDesktop=!isMobileDevice&&void\x200!==nav.vendor&&/Apple/.test(nav.vendor)&&/Safari/.test(ua),isFirefoxWithPDFJS=!(isMobileDevice||!/irefox/.test(ua))&&parseInt(ua.split(\x22rv:\x22)[1].split(\x22.\x22)[0],10)>18,createAXO=function(type){var\x20ax;try{ax=new\x20ActiveXObject(type)}catch(e){ax=null}return\x20ax},supportsPDFs=!isMobileDevice&&(isFirefoxWithPDFJS||supportsPdfMimeType||isIE&&!(!createAXO(\x22AcroPDF.PDF\x22)&&!createAXO(\x22PDF.PdfCtrl\x22))),embedError=function(msg,suppressConsole){return\x20suppressConsole||console.log(\x22[PDFObject]\x20\x22+msg),!1},emptyNodeContents=function(node){for(;node.firstChild;)node.removeChild(node.firstChild)},generatePDFJSMarkup=function(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20fullURL=PDFJS_URL+\x22?file=\x22+encodeURIComponent(url)+pdfOpenFragment,div=document.createElement(\x22div\x22),iframe=document.createElement(\x22iframe\x22);return\x20iframe.src=fullURL,iframe.className=\x22pdfobject\x22,iframe.type=\x22application/pdf\x22,iframe.frameborder=\x220\x22,id&&(iframe.id=id),omitInlineStyles||(div.style.cssText=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x22,iframe.style.cssText=\x22border:\x20none;\x20width:\x20100%;\x20height:\x20100%;\x22,/*targetNode.style.position=\x22relative\x22,*/targetNode.style.overflow=\x22auto\x22),div.appendChild(iframe),targetNode.appendChild(div),targetNode.classList.add(\x22pdfobject-container\x22),targetNode.getElementsByTagName(\x22iframe\x22)[0]},embed=function(url,targetSelector,options){let\x20selector=targetSelector||!1,opt=options||{},id=\x22string\x22==typeof\x20opt.id?opt.id:\x22\x22,page=opt.page||!1,pdfOpenParams=opt.pdfOpenParams||{},fallbackLink=opt.fallbackLink||!0,width=opt.width||\x22100%\x22,height=opt.height||\x22100%\x22,assumptionMode=\x22boolean\x22!=typeof\x20opt.assumptionMode||opt.assumptionMode,forcePDFJS=\x22boolean\x22==typeof\x20opt.forcePDFJS&&opt.forcePDFJS,supportRedirect=\x22boolean\x22==typeof\x20opt.supportRedirect&&opt.supportRedirect,omitInlineStyles=\x22boolean\x22==typeof\x20opt.omitInlineStyles&&opt.omitInlineStyles,suppressConsole=\x22boolean\x22==typeof\x20opt.suppressConsole&&opt.suppressConsole,forceIframe=\x22boolean\x22==typeof\x20opt.forceIframe&&opt.forceIframe,PDFJS_URL=opt.PDFJS_URL||!1,targetNode=function(targetSelector){let\x20targetNode=document.body;return\x22string\x22==typeof\x20targetSelector?targetNode=document.querySelector(targetSelector):void\x200!==window.jQuery&&targetSelector\x20instanceof\x20jQuery&&targetSelector.length?targetNode=targetSelector.get(0):void\x200!==targetSelector.nodeType&&1===targetSelector.nodeType&&(targetNode=targetSelector),targetNode}(selector),fallbackHTML=\x22\x22,pdfOpenFragment=\x22\x22;if(\x22string\x22!=typeof\x20url)return\x20embedError(\x22URL\x20is\x20not\x20valid\x22,suppressConsole);if(!targetNode)return\x20embedError(\x22Target\x20element\x20cannot\x20be\x20determined\x22,suppressConsole);if(page&&(pdfOpenParams.page=page),pdfOpenFragment=function(pdfParams){let\x20prop,string=\x22\x22;if(pdfParams){for(prop\x20in\x20pdfParams)pdfParams.hasOwnProperty(prop)&&(string+=encodeURIComponent(prop)+\x22=\x22+encodeURIComponent(pdfParams[prop])+\x22&\x22);string&&(string=(string=\x22#\x22+string).slice(0,string.length-1))}return\x20string}(pdfOpenParams),forcePDFJS&&PDFJS_URL)return\x20generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles);if(supportsPDFs||assumptionMode&&isModernBrowser&&!isMobileDevice){return\x20function(embedType,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20embed=document.createElement(embedType);if(embed.src=url+pdfOpenFragment,embed.className=\x22pdfobject\x22,embed.type=\x22application/pdf\x22,id&&(embed.id=id),!omitInlineStyles){let\x20style=\x22embed\x22===embedType?\x22overflow:\x20auto;\x22:\x22border:\x20none;\x22;targetSelector&&targetSelector!==document.body?style+=\x22width:\x20\x22+width+\x22;\x20height:\x20\x22+height+\x22;\x22:style+=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x20width:\x20100%;\x20height:\x20100%;\x22,embed.style.cssText=style}return\x20targetNode.classList.add(\x22pdfobject-container\x22),targetNode.appendChild(embed),targetNode.getElementsByTagName(embedType)[0]}(forceIframe||supportRedirect&&isSafariDesktop?\x22iframe\x22:\x22embed\x22,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles)}return\x20PDFJS_URL?generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles):(fallbackLink&&(fallbackHTML=\x22string\x22==typeof\x20fallbackLink?fallbackLink:\x22<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>\x22,targetNode.innerHTML=fallbackHTML.replace(/\x5c[url\x5c]/g,url)),embedError(\x22This\x20browser\x20does\x20not\x20support\x20embedded\x20PDFs\x22,suppressConsole))};return{embed:function(a,b,c){return\x20embed(a,b,c)},pdfobjectversion:\x222.2.3\x22,supportsPDFs:supportsPDFs}});'+'if\x20(typeof\x20module\x20===\x20\x22object\x22\x20&&\x20module.exports)\x20{'+'this.PDFObject\x20=\x20module.exports;'+'}'+'PDFObject.embed(\x22'+BZ+'\x22,\x20\x22#content\x22,\x20{'+(C4?'\x22PDFJS_URL\x22:\x20\x22'+new URL('lib/pdfjs/web/viewer.html',document['baseURI'])['href']+'\x22,\x20':'')+'\x22fallbackLink\x22:\x20\x22'+C5+'\x22,'+'\x22forcePDFJS\x22:\x20'+C6+'});'+'if(!PDFObject.supportsPDFs\x20&&\x20!'+C4+'){'+'\x20var\x20iframeTimerId;'+'\x20function\x20startTimer(){'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20function\x20checkIframeLoaded(){\x20\x20'+'\x20\x20\x20\x20var\x20iframe\x20=\x20document.getElementById(\x22googleViewer\x22);'+'\x20\x20\x20\x20iframe.src\x20=\x20iframe.src;'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20document.getElementById(\x22googleViewer\x22).addEventListener(\x22load\x22,\x20function(){'+'\x20\x20\x20clearInterval(iframeTimerId);\x20'+'\x20});'+'\x20startTimer();'+'}'+'</script>';if(C1=='WebFrame'){BY['set']('url','data:text/html;charset=utf-8,'+encodeURIComponent('<!DOCTYPE\x20html>'+'<html>'+'<head></head>'+'<body\x20style=\x22height:100%;width:100%;overflow:hidden;margin:0px;background-color:rgb(82,\x2086,\x2089);\x22>'+C7+'</body>'+'</html>'));}else if(C1=='HTML'){BY['set']('content','data:text/html;charset=utf-8,'+encodeURIComponent(C7));}}};TDV['Tour']['Script']['getKey']=function(C8){return window[C8];};TDV['Tour']['Script']['registerKey']=function(C9,Ca){window[C9]=Ca;};TDV['Tour']['Script']['unregisterKey']=function(Cb){delete window[Cb];};TDV['Tour']['Script']['existsKey']=function(Cc){return Cc in window;};function _getCurrentActiveModels(){var Cd=this['getByClassName']('Model3DPlayer');var Ce=[];for(var Cf of Cd){var Cg=Cf['get']('model');var Ch=Cf['get']('viewerArea');if(Cg&&Cg['get']('isLoaded')&&Ch&&Ch['get']('visible'))Ce['push'](Cg);}return Ce;}function _onMeasureClick(Ci){var Cj=Ci['source'];var Ck=Cj['get']('mode');if(Ck!='create'){Cj['set']('mode',Ck=='view'?'edit':'view');console['log'](Cj['get']('mode'));}}function _forEachMeasureModel3DObject(Cl,Cm){if(!Cl)Cl=_getCurrentActiveModels['call'](this);Cl['forEach'](function(Cn){Cn['get']('objects')['forEach'](function(Co){if(Co['get']('class')=='MeasureModel3DObject')Cm(Cn,Co);}['bind'](this));}['bind'](this));}function _deleteModel3DObjects(Cp,Cq){if(!Cp)Cp=_getCurrentActiveModels['call'](this);Cp['forEach'](function(Cr){var Cs=Cr['get']('objects');var Ct=Cs['filter'](function(Cu){return!Cq['call'](this,Cu);});if(Ct['length']!=Cs['length']){Cr['set']('objects',Ct);Cs['forEach'](function(Cv){if(Cq['call'](this,Cv))this['disposeInstance'](Cv);}['bind'](this));}}['bind'](this));}function _cloneMeasureModel3DObject(Cw){var Cx=this['clone'](Cw,Cw['getAttributeNames']()['filter'](function(Cy){return Cy!='id';}));Cx['set']('data',{'id':Cw['get']('id')});return Cx;}TDV['Tour']['Script']['startMeasurement']=function(Cz,CA){if(!Cz)Cz=_getCurrentActiveModels['call'](this);var CB={},CC={},CD={};Cz['forEach'](function(CF){var CG=CF['get']('objects');var CH=CG['findIndex'](function(CM){return CM['get']('class')=='MeasureModel3DObject'&&CM['get']('mode')=='create';});var CI=CH!=-0x1;if(CI){var CJ=CG[CH];if(CJ['get']('points')['length']==0x0){CG['splice'](CH,0x1);this['disposeInstance'](CJ);}else CJ['set']('mode','view');}CG['forEach'](function(CN){if(CN['get']('class')=='MeasureModel3DObject'&&CN['get']('mode')=='edit')CN['set']('mode','view');}['bind'](this));var CK=_cloneMeasureModel3DObject['call'](this,CA);this['cloneBindings'](CA,CK,'modeChange');CK['set']('mode','create');CK['bind']('click',_onMeasureClick,this);var CL=CF['get']('camera');CK['bind']('modeChange',function CO(){if(CK['get']('mode')=='create'){CB[CF['get']('id')]=CF['get']('surfaceSelectionEnabled');CF['set']('surfaceSelectionEnabled',!![]);if(CL['get']('class')=='FlyOverModel3DCamera'){CC[CF['get']('id')]=CL['get']('doubleClickAction');CL['set']('doubleClickAction','none');}}else{CK['unbind']('modeChange',CO,this);CF['set']('surfaceSelectionEnabled',CB[CF['get']('id')]);if(CL['get']('class')=='FlyOverModel3DCamera'){CL['set']('doubleClickAction',CC[CF['get']('id')]);}CG['forEach'](function(CP){var CQ=CD[CP['get']('id')];if(CQ){CP['set']('rollOverEnabled',CQ['rollOverEnabled']);}});}},this);if(Cz['length']>0x0){CK['bind']('distanceChange',function CR(){CK['unbind']('distanceChange',CR,this);CE['call'](this,Cz['filter'](CS=>CS!=CF));},this);}CG['forEach'](function(CT){var CU=CT['get']('id');if(CU){CD[CU]={'rollOverEnabled':CT['get']('rollOverEnabled')};CT['set']('rollOverEnabled',!![]);}});CG=CG['concat']();CG['push'](CK);CF['set']('objects',CG);}['bind'](this));function CE(CV){this['stopMeasurement'](CV);for(var CW of CV){var CX=CW['get']('id');CW['set']('surfaceSelectionEnabled',CB[CX]);if(CX in CC)CW['get']('camera')['set']('doubleClickAction',CC[CX]);}}};TDV['Tour']['Script']['stopMeasurement']=function(CY){_deleteModel3DObjects['call'](this,CY,function(CZ){return CZ['get']('class')=='MeasureModel3DObject'&&CZ['get']('mode')=='create'&&CZ['get']('points')['length']==0x0;});_forEachMeasureModel3DObject['call'](this,CY,function(D0,D1){if(D1['get']('mode')=='create'){D1['set']('mode','edit');}});};TDV['Tour']['Script']['toggleMeasurement']=function(D2,D3){if(!D2)D2=_getCurrentActiveModels['call'](this);var D4=D2['some'](function(D5){var D6=D5['get']('objects');var D7=D6['find'](function(D8){return D8['get']('class')=='MeasureModel3DObject'&&D8['get']('mode')=='create';});return D7!=null;});if(!D4)this['startMeasurement'](D2,D3);else this['stopMeasurement'](D2);};TDV['Tour']['Script']['cleanAllMeasurements']=function(D9){_deleteModel3DObjects['call'](this,D9,function(Da){return Da['get']('class')=='MeasureModel3DObject';});};TDV['Tour']['Script']['cleanSelectedMeasurements']=function(Db){_deleteModel3DObjects['call'](this,Db,function(Dc){return Dc['get']('class')=='MeasureModel3DObject'&&Dc['get']('mode')=='edit';});};TDV['Tour']['Script']['setMeasurementsVisibility']=function(Dd,De){_forEachMeasureModel3DObject['call'](this,Dd,function(Df,Dg){Dg['set']('enabled',De);});};TDV['Tour']['Script']['toggleMeasurementsVisibility']=function(Dh){_forEachMeasureModel3DObject['call'](this,Dh,function(Di,Dj){Dj['set']('enabled',!Dj['get']('enabled'));});};TDV['Tour']['Script']['setMeasurementUnits']=function(Dk){_forEachMeasureModel3DObject['call'](this,null,function(Dl,Dm){Dm['set']('units',Dk);});};
//# sourceMappingURL=script_v2023.2.10.js.map
//Generated with v2023.2.10, Tue Jun 4 2024

var tour;
var devicesUrl = {"mobile":"script_mobile.js?v=1717508258478","general":"script_general.js?v=1717508258478"};

(function()
{
    var deviceType = ['general'];
    if(TDV.PlayerAPI.mobile)
        deviceType.unshift('mobile');
    if(TDV.PlayerAPI.device == TDV.PlayerAPI.DEVICE_IPAD)
        deviceType.unshift('ipad');
    var url;
    for(var i=0; i<deviceType.length; ++i) {
        var d = deviceType[i];
        if(d in devicesUrl) {
            url = devicesUrl[d];
            break;
        }
    }
    if(typeof url == "object") {
        var orient = TDV.PlayerAPI.getOrientation();
        if(orient in url) {
            url = url[orient];
        }
    }
    var link = document.createElement('link');
    link.rel = 'preload';
    link.href = url;
    link.as = 'script';
    var el = document.getElementsByTagName('script')[0];
    el.parentNode.insertBefore(link, el);
})();

function loadTour()
{
    if(tour) return;

    if (/AppleWebKit/.test(navigator.userAgent) && /Mobile\/\w+/.test(navigator.userAgent)) {
        var preloadContainer = document.getElementById('preloadContainer');
        if(preloadContainer)
            document.body.style.backgroundColor = window.getComputedStyle(preloadContainer).backgroundColor;
    }

    var settings = new TDV.PlayerSettings();
    settings.set(TDV.PlayerSettings.CONTAINER, document.getElementById('viewer'));
    settings.set(TDV.PlayerSettings.WEBVR_POLYFILL_URL, 'lib/WebVRPolyfill.js?v=1717508258478');
    settings.set(TDV.PlayerSettings.HLS_URL, 'lib/Hls.js?v=1717508258478');
    settings.set(TDV.PlayerSettings.QUERY_STRING_PARAMETERS, 'v=1717508258478');

    tour = new TDV.Tour(settings, devicesUrl);
    tour.bind(TDV.Tour.EVENT_TOUR_INITIALIZED, onVirtualTourInit);
    tour.bind(TDV.Tour.EVENT_TOUR_LOADED, onVirtualTourLoaded);
    tour.bind(TDV.Tour.EVENT_TOUR_ENDED, onVirtualTourEnded);
    tour.load();
}

function pauseTour()
{
    if(!tour)
        return;

    tour.pause();
}

function resumeTour()
{
    if(!tour)
        return;

    tour.resume();
}

function onVirtualTourInit()
{
    var updateTexts = function() {
        document.title = this.trans("tour.name")
    };

    tour.locManager.bind(TDV.Tour.LocaleManager.EVENT_LOCALE_CHANGED, updateTexts.bind(tour.locManager));
    
    if (tour.player.cookiesEnabled)
        enableCookies();
    else
        tour.player.bind('enableCookies', enableCookies);
}

function onVirtualTourLoaded()
{
    disposePreloader();
}

function onVirtualTourEnded()
{

}

function enableCookies()
{
    
}

function setMediaByIndex(index) {
    if(!tour)
        return;

    tour.setMediaByIndex(index);
}

function setMediaByName(name)
{
    if(!tour)
        return;

    tour.setMediaByName(name);
}

function showPreloader()
{
    var preloadContainer = document.getElementById('preloadContainer');
    if(preloadContainer != undefined)
        preloadContainer.style.opacity = 1;
}

function disposePreloader()
{
    var preloadContainer = document.getElementById('preloadContainer');
    if(preloadContainer == undefined)
        return;

    var transitionEndName = transitionEndEventName();
    if(transitionEndName)
    {
        preloadContainer.addEventListener(transitionEndName, hide, false);
        preloadContainer.style.opacity = 0;
        setTimeout(hide, 500); //Force hide. Some cases the transitionend event isn't dispatched with an iFrame.
    }
    else
    {
        hide();
    }

    function hide()
    {
        
        document.body.style.backgroundColor = window.getComputedStyle(preloadContainer).backgroundColor;
        preloadContainer.style.visibility = 'hidden';
        preloadContainer.style.display = 'none';
        var videoList = preloadContainer.getElementsByTagName("video");
        for(var i=0; i<videoList.length; ++i)
        {
            var video = videoList[i];
            video.pause();
            while (video.children.length)
                video.removeChild(video.children[0]);
        }
    }

    function transitionEndEventName () {
        var el = document.createElement('div');
        var transitions = {
            'transition':'transitionend',
            'OTransition':'otransitionend',
            'MozTransition':'transitionend',
            'WebkitTransition':'webkitTransitionEnd'
        };

        var t;
        for (t in transitions) {
            if (el.style[t] !== undefined) {
                return transitions[t];
            }
        }

        return undefined;
    }
}

function onBodyClick(){
    document.body.removeEventListener("click", onBodyClick);
    document.body.removeEventListener("touchend", onBodyClick);
    
}

function onLoad() {
    if (/AppleWebKit/.test(navigator.userAgent) && /Mobile\/\w+/.test(navigator.userAgent))
    {
        var onOrientationChange = function()
        {
            document.documentElement.style.height = 'initial';
            document.body.style.height = 'initial';
            Array.from(document.querySelectorAll('.fill-viewport')).forEach(function(element)
            {
                element.classList.toggle('landscape-right', window.orientation == -90);
                element.classList.toggle('landscape-left', window.orientation == 90);
            });
            setTimeout(function()
            {
                document.documentElement.style.height = '100%';
                document.body.style.height = undefined;
            }, 500);
        };
        window.addEventListener('orientationchange', onOrientationChange);
        onOrientationChange();
    }

    var params = getParams(location.search.substr(1));
    if(params.hasOwnProperty("skip-loading"))
    {
        loadTour();
        disposePreloader();
        return;
    }

    if (isOVRWeb()){
        showPreloader();
        loadTour();
        return;
    }

    showPreloader();
			loadTour();
}



function playVideo(video, autoplayMuted, clickComponent) {
    function hasAudio (video) {
        return video.mozHasAudio ||
               Boolean(video.webkitAudioDecodedByteCount) ||
               Boolean(video.audioTracks && video.audioTracks.length);
    }

    function detectUserAction() {
        var component = clickComponent || document.getElementById('preloadContainer');
        var onVideoClick = function(e) {
            if(video.paused) {
                video.play();
            }
            video.muted = false;
            if(hasAudio(video))
            {
                e.stopPropagation();
                e.stopImmediatePropagation();
                e.preventDefault();
            }

            component.removeEventListener('click', onVideoClick);
            component.removeEventListener('touchend', onVideoClick);

            if(component == clickComponent) {
                setComponentVisibility(false);
            }
        };
        component.addEventListener("click", onVideoClick);
        component.addEventListener("touchend", onVideoClick);
    }

    function setComponentVisibility(visible) {
        clickComponent.style.visibility = visible ? 'visible' : 'hidden';
    }

    var canPlay = true;
    var promise = video.play();
    if (promise) {
        promise.catch(function() {
            if(clickComponent)
                setComponentVisibility(true);
            canPlay = false;
            if(autoplayMuted) {
                video.muted = true;
                video.play();
            }
            detectUserAction();
        });
    } else {
        canPlay = false;
    }

    if (!canPlay || video.muted) {
        detectUserAction();
    } else if(clickComponent) {
        setComponentVisibility(false);
    }
}

function isOVRWeb(){
    return window.location.hash.substring(1).split('&').indexOf('ovrweb') > -1;
}

function getParams(params) {
    var queryDict = {}; params.split("&").forEach(function(item) {var k = item.split("=")[0], v = decodeURIComponent(item.split("=")[1]);queryDict[k.toLowerCase()] = v});
    return queryDict;
}

document.addEventListener('DOMContentLoaded', onLoad);